(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bda679b"],{"2a92":function(e,s,t){},"35c9":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"title"},[t("h2",[t("b",[e._v(e._s(e.$t("graphics.proyects.title")))])])]),t("br"),t("div",{staticClass:"contain-pro"},[t("question",{staticClass:"ques",attrs:{section:7},model:{value:e.answer_shared,callback:function(s){e.answer_shared=s},expression:"answer_shared"}}),t("div"),t("board",{attrs:{board:4,proy:!0,alt_ans:e.answer_shared}})],1)])},n=[],i=t("6715"),r=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[0==e.answers.length&&0==e.isLoad?a("div",{staticClass:"questions"},[a("img",{attrs:{src:t("754c"),alt:"alt"}})]):e._e(),e.answers.length>0&&e.isLoad?a("div",{staticClass:"questions",on:{mouseover:function(s){return e.$forceUpdate()}}},[a("div",{staticClass:"question"},[e._v(" "+e._s(e.$t("graphics.proyects.year"))+" "),a("div",{staticClass:"cols-c"},[a("div",{staticClass:"col-c"},[a("div",{staticClass:"inline"},[a("v-select",{attrs:{options:e.yearOpt2},model:{value:e.year,callback:function(s){e.year=s},expression:"year"}}),a("br")],1)])])]),e._l(e.questions,(function(s,t){return a("div",{key:t,staticClass:"question"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==s["VISIBLE"]&&e.getCalculated(t),expression:"question['VISIBLE'] == 1 && getCalculated(i)"}]},[a("b",[e._v(e._s(s["ID_PREGUNTA"])+" ")]),e._v(" "),"titulo"==s["TIPO_1"]?a("b",[e._v(e._s(s["PREGUNTA"]))]):a("span",[e._v(e._s(s["PREGUNTA"]))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"NA"!=s["AYUDA"],expression:"question['AYUDA'] != 'NA'"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"help",attrs:{title:s["AYUDA"]}},[a("i",{staticClass:"fas fa-question-circle"})]),void 0!=e.answers[t]?a("div",{staticClass:"cols-c"},["NA"!=s["TIPO_1"]?a("div",{staticClass:"col-c"},["grafica"==s["TIPO_1"]?a("div",[a("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"tabla"==s["TIPO_1"]&&void 0!=s["TABLES"]&&void 0!=s["TANSWERS"]?a("div",[a("div",{staticClass:"header"},e._l(s["TABLES"],(function(s,t){return a("div",{key:t,staticClass:"item-h"},[e._v(" "+e._s(s["COLUMNA"])+" ")])})),0),e._l(s["TANSWERS"],(function(n,i){return a("div",{key:i+s["TANSWERS"].length,staticClass:"body"},e._l(s["TABLES"],(function(n,r){return a("div",{key:r,staticClass:"item"},["abierto numero"==n["TIPO"]?a("div",[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:s["TANSWERS"][i][r+1],callback:function(t){e.$set(s["TANSWERS"][i],r+1,t)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e(),"abierto texto"==n["TIPO"]?a("div",[a("b-input",{model:{value:s["TANSWERS"][i][r+1],callback:function(t){e.$set(s["TANSWERS"][i],r+1,t)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e(),"abierto fecha"==n["TIPO"]?a("div",[a("b-form-datepicker",e._b({attrs:{id:"datepicker-T-"+i+"-"+r,locale:"es"},model:{value:s["TANSWERS"][i][r+1],callback:function(t){e.$set(s["TANSWERS"][i],r+1,t)},expression:"question['TANSWERS'][k][j+1]"}},"b-form-datepicker",e.labels["es"]||{},!1))],1):e._e(),"selección unica"==n["TIPO"]?a("div",[a("v-select",{attrs:{options:e.getRes(n["ORDEN"],t),label:"TEXTO"},model:{value:s["TANSWERS"][i][r+1],callback:function(t){e.$set(s["TANSWERS"][i],r+1,t)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e()])})),0)}))],2):e._e(),"abierto numero"==s["TIPO_1"]?a("div",{staticClass:"inline"},[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"abierto texto"==s["TIPO_1"]?a("div",{staticClass:"inline"},[a("b-input",{model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"abierto fecha"==s["TIPO_1"]?a("div",{staticClass:"inline"},[a("b-form-datepicker",e._b({attrs:{id:"datepicker-Q1-"+t,locale:"es"},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"calculado"==s["TIPO_1"]?a("div",{staticClass:"inline calculado"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_calc1"],callback:function(s){e.$set(e.answers[t],"dato_calc1",s)},expression:"answers[i]['dato_calc1']"}}),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"referencia"==s["TIPO_1"]?a("div",{staticClass:"inline referencia"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_ref"],callback:function(s){e.$set(e.answers[t],"dato_ref",s)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"selección multiple"==s["TIPO_1"]?a("div",e._l(s["RESPUESTAS"],(function(s,n){return a("b-form-checkbox",{key:n,attrs:{id:"checkbox"+t+n,name:"checkbox"+t+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[t],5)&&0==e.answers[t][s["COLUMNA"]]},model:{value:e.answers[t][s["COLUMNA"]],callback:function(a){e.$set(e.answers[t],s["COLUMNA"],a)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(s["TEXTO"])+" ")])})),1):e._e(),"selección unica"==s["TIPO_1"]?a("div",[a("v-select",{attrs:{options:s["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[t]["dato_unico"],callback:function(s){e.$set(e.answers[t],"dato_unico",s)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==s["TIPO_1"]?a("div",[a("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==s["TIPO_1"]?a("div",{staticClass:"inline2"},["NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e(),e._v(" "),a("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[t]["anio"],callback:function(s){e.$set(e.answers[t],"anio",s)},expression:"answers[i]['anio']"}})],1):e._e(),"titulo"!=s["TIPO_1"]?a("br"):e._e()]):e._e(),"NA"!=s["TIPO_2"]?a("div",{staticClass:"col-c"},["grafica"==s["TIPO_2"]?a("div",[a("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==s["TIPO_2"]?a("div",{staticClass:"inline"},[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"abierto texto"==s["TIPO_2"]?a("div",{staticClass:"inline"},[a("b-input",{model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"abierto fecha"==s["TIPO_2"]?a("div",{staticClass:"inline"},[a("b-form-datepicker",e._b({attrs:{id:"datepicker-Q2-"+t,locale:"es"},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"calculado"==s["TIPO_2"]?a("div",{staticClass:"inline calculado"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_calc2"],callback:function(s){e.$set(e.answers[t],"dato_calc2",s)},expression:"answers[i]['dato_calc2']"}}),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"referencia"==s["TIPO_2"]?a("div",{staticClass:"inline referencia"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_ref"],callback:function(s){e.$set(e.answers[t],"dato_ref",s)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"selección multiple"==s["TIPO_2"]?a("div",e._l(s["RESPUESTAS"],(function(s,n){return a("b-form-checkbox",{key:n,attrs:{id:"checkbox"+t+n,name:"checkbox"+t+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[t],5)&&0==e.answers[t][s["COLUMNA"]]},model:{value:e.answers[t][s["COLUMNA"]],callback:function(a){e.$set(e.answers[t],s["COLUMNA"],a)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(s["TEXTO"])+" ")])})),1):e._e(),"selección unica"==s["TIPO_2"]?a("div",[a("v-select",{attrs:{options:s["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[t]["dato_unico"],callback:function(s){e.$set(e.answers[t],"dato_unico",s)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==s["TIPO_2"]?a("div",[a("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==s["TIPO_2"]?a("div",{staticClass:"inline2"},["NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e(),e._v(" "),a("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[t]["anio"],callback:function(s){e.$set(e.answers[t],"anio",s)},expression:"answers[i]['anio']"}})],1):e._e(),"titulo"!=s["TIPO_2"]?a("br"):e._e()]):e._e(),"NA"!=s["TIPO_3"]?a("div",{staticClass:"col-c"},["grafica"==s["TIPO_3"]?a("div",[a("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==s["TIPO_3"]?a("div",{staticClass:"inline"},[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"abierto texto"==s["TIPO_3"]?a("div",{staticClass:"inline"},[a("b-input",{model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"abierto fecha"==s["TIPO_3"]?a("div",{staticClass:"inline"},[a("b-form-datepicker",e._b({attrs:{id:"datepicker-Q3-"+t,locale:"es"},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"calculado"==s["TIPO_3"]?a("div",{staticClass:"inline calculado"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_calc3"],callback:function(s){e.$set(e.answers[t],"dato_calc3",s)},expression:"answers[i]['dato_calc3']"}}),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"referencia"==s["TIPO_3"]?a("div",{staticClass:"inline referencia"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_ref"],callback:function(s){e.$set(e.answers[t],"dato_ref",s)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"selección multiple"==s["TIPO_3"]?a("div",e._l(s["RESPUESTAS"],(function(s,n){return a("b-form-checkbox",{key:n,attrs:{id:"checkbox"+t+n,name:"checkbox"+t+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[t],5)&&0==e.answers[t][s["COLUMNA"]]},model:{value:e.answers[t][s["COLUMNA"]],callback:function(a){e.$set(e.answers[t],s["COLUMNA"],a)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(s["TEXTO"])+" ")])})),1):e._e(),"selección unica"==s["TIPO_3"]?a("div",[a("v-select",{attrs:{options:s["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[t]["dato_unico"],callback:function(s){e.$set(e.answers[t],"dato_unico",s)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==s["TIPO_3"]?a("div",[a("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==s["TIPO_3"]?a("div",{staticClass:"inline2"},["NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e(),e._v(" "),a("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[t]["anio"],callback:function(s){e.$set(e.answers[t],"anio",s)},expression:"answers[i]['anio']"}})],1):e._e(),"titulo"!=s["TIPO_3"]?a("br"):e._e()]):e._e(),"NA"!=s["TIPO_4"]?a("div",{staticClass:"col-c"},["grafica"==s["TIPO_4"]?a("div",[a("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==s["TIPO_4"]?a("div",{staticClass:"inline"},[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"abierto texto"==s["TIPO_4"]?a("div",{staticClass:"inline"},[a("b-input",{model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"abierto fecha"==s["TIPO_4"]?a("div",{staticClass:"inline"},[a("b-form-datepicker",e._b({attrs:{id:"datepicker-Q4-"+t,locale:"es"},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"calculado"==s["TIPO_4"]?a("div",{staticClass:"inline calculado"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_calc4"],callback:function(s){e.$set(e.answers[t],"dato_calc4",s)},expression:"answers[i]['dato_calc4']"}}),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"referencia"==s["TIPO_4"]?a("div",{staticClass:"inline referencia"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_ref"],callback:function(s){e.$set(e.answers[t],"dato_ref",s)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"selección multiple"==s["TIPO_4"]?a("div",e._l(s["RESPUESTAS"],(function(s,n){return a("b-form-checkbox",{key:n,attrs:{id:"checkbox"+t+n,name:"checkbox"+t+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[t],5)&&0==e.answers[t][s["COLUMNA"]]},model:{value:e.answers[t][s["COLUMNA"]],callback:function(a){e.$set(e.answers[t],s["COLUMNA"],a)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(s["TEXTO"])+" ")])})),1):e._e(),"selección unica"==s["TIPO_4"]?a("div",[a("v-select",{attrs:{options:s["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[t]["dato_unico"],callback:function(s){e.$set(e.answers[t],"dato_unico",s)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==s["TIPO_4"]?a("div",[a("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==s["TIPO_4"]?a("div",{staticClass:"inline2"},["NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e(),e._v(" "),a("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[t]["anio"],callback:function(s){e.$set(e.answers[t],"anio",s)},expression:"answers[i]['anio']"}})],1):e._e(),"titulo"!=s["TIPO_4"]?a("br"):e._e()]):e._e()]):e._e()])])}))],2):e._e(),a("b-modal",{ref:"error",attrs:{id:"error",size:"md","ok-only":!0,title:e.$t("descriptive.valid_data")}},[a("div",{domProps:{innerHTML:e._s(this.errorMessage)}})]),a("b-modal",{ref:"edito",attrs:{id:"edito",size:"md","hide-footer":!0,title:e.$t("descriptive.edito")}},[a("b-form-group",{attrs:{id:"fieldset-1",label:"Nombre y apellido","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.nombre_edita,callback:function(s){e.$set(e.edit_person,"nombre_edita",s)},expression:"edit_person.nombre_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Correo","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.correo_edita,callback:function(s){e.$set(e.edit_person,"correo_edita",s)},expression:"edit_person.correo_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Entidad","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.entidad_edita,callback:function(s){e.$set(e.edit_person,"entidad_edita",s)},expression:"edit_person.entidad_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Numero de teléfono","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.numerot_edita,callback:function(s){e.$set(e.edit_person,"numerot_edita",s)},expression:"edit_person.numerot_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Notas","label-for":"input-1"}},[a("b-form-textarea",{attrs:{id:"textarea",rows:"3","max-rows":"6"},model:{value:e.edit_person.notas_edita,callback:function(s){e.$set(e.edit_person,"notas_edita",s)},expression:"edit_person.notas_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Fuentes","label-for":"input-1"}},[a("b-form-textarea",{attrs:{id:"textarea",rows:"3","max-rows":"6"},model:{value:e.edit_person.fuentes_edita,callback:function(s){e.$set(e.edit_person,"fuentes_edita",s)},expression:"edit_person.fuentes_edita"}})],1),a("b-button",{attrs:{variant:"outline-warning"},on:{click:e.saveAnswers}},[a("i",{staticClass:"far fa-save"}),e._v(" "+e._s(e.$t("spda.save")))])],1)],1)},o=[],l=t("1da1"),c=(t("96cf"),t("a9e3"),t("ac1f"),t("1276"),t("4de4"),t("5319"),t("c740"),t("caad"),{name:"Question",props:{wizard:{type:Number,default:1},section:{type:Number,default:2},value:{type:Array,default:function(){return[]}}},data:function(){return{edit_person:{nombre_edita:"",correo_edita:"",entidad_edita:"",numerot_edita:"",notas_edita:"",fuentes_edita:""},ansd:[],ques:[],errorSave:!1,errorMessage:"",references:[],questions:[],answers:[],variables:[],validationF:[],formulaAlias:[],isLoad:!1,year:null,idDes:null,yearOpt:[2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009],yearOpt2:[],regN:/[-+]?[0-9]*\.?[0-9]*/,labels:{es:{labelPrevDecade:"Década anterior",labelPrevYear:"Año anterior",labelPrevMonth:"Mes anterior",labelCurrentMonth:"Mes actual",labelNextMonth:"Mes siguiente",labelNextYear:"Año siquiente",labelNextDecade:"Década siguiente",labelToday:"Hoy",labelSelected:"Fecha seleccionada",labelNoDateSelected:"Sin fecha elegida",labelCalendar:"Calendario",labelNav:"Navegación de calendario ",labelHelp:"Utilice las teclas de flecha para navegar por el calendario"}},constants_calculated:{table:"REG_TAB",sum:"SUMATORIA",simple:"CALC_SIMPLE",compose:"CALC_COMPUESTO",equal:"IGUAL"}}},watch:{year:function(e){e!=parseInt(localStorage.getItem("year"))+1&&this.updateQuestions()}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function s(){var t,a,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:for(t=0;t<2035-localStorage.getItem("year");t++)e.yearOpt2.push(parseInt(localStorage.getItem("year"))+1+t);return e.year=parseInt(localStorage.getItem("year"))+1,e.idDes=localStorage.getItem("id_territorio"),e.$store.dispatch("year"),e.isLoad=!1,e.updateQuestions(),e.$store.dispatch("setLoading"),s.prev=7,s.next=10,window.eel.getQuestion()(a);case 10:a=s.sent,e.ques=JSON.parse(a),e.$store.dispatch("clearLoading"),s.next=19;break;case 15:s.prev=15,s.t0=s["catch"](7),console.log(s.t0),e.$store.dispatch("clearLoading");case 19:return e.$store.dispatch("setLoading"),s.prev=20,s.next=23,window.eel.getAnswerUserD(e.year,e.idDes)(n);case 23:n=s.sent,e.ansd=JSON.parse(n),null==e.ansd&&(e.ansd=[]),e.$store.dispatch("clearLoading"),s.next=33;break;case 29:s.prev=29,s.t1=s["catch"](20),console.log(s.t1),e.$store.dispatch("clearLoading");case 33:return e.$store.dispatch("setLoading"),s.prev=34,s.next=37,window.eel.getValidationFormula()(i);case 37:i=s.sent,e.validationF=JSON.parse(i),e.$store.dispatch("clearLoading"),s.next=46;break;case 42:s.prev=42,s.t2=s["catch"](34),console.log(s.t2),e.$store.dispatch("clearLoading");case 46:case"end":return s.stop()}}),s,null,[[7,15],[20,29],[34,42]])})))()},methods:{getCalculated:function(e){if(this.questions.length<1)return!1;if(void 0==this.questions[e]["FORMULA"])return!1;if(this.questions[e]["FORMULA"].length<1)return this.updateAns(),!0;if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.table){var s=this.questions[e]["FORMULA"][0]["CPO"].split("&")[1];if("="==this.questions[e]["FORMULA"][0]["OP"]){var t=this.getAnswerValues(parseInt(s));return 0==parseInt(t["dato_text"])||null==t["dato_text"]||void 0==t["dato_text"]||""==t["dato_text"]?(this.updateAns(),!1):parseInt(t["dato_text"])<31?(this.setRowsTables(e,parseFloat(t["dato_text"])),this.updateAns(),!0):parseInt(t["dato_text"])>30&&(this.setAnswerValueTable(parseInt(s)),this.setRowsTables(e,30),this.updateAns(),!0)}}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.sum){for(var a=this.questions[e]["FORMULA"][0]["CPO"].split(";"),n=[],i=0;i<a.length;i++){var r="NA";if(-1!=a[i].indexOf("&")&&(r="ID"),-1!=a[i].indexOf("!")&&(r="ALIAS"),"ID"==r){var o=a[i].split("&")[1],l=this.getAnswerValues(parseInt(o));parseFloat("____________________SUM"),void 0!=l&&(null!=l["dato_text"]&&void 0!=l["dato_text"]&&""!=l["dato_text"]?(console.log(parseFloat(l["dato_text"])),n.push(parseFloat(l["dato_text"]))):null!=l["dato_calc1"]&&void 0!=l["dato_calc1"]&&""!=l["dato_calc1"]?n.push(parseFloat(l["dato_calc1"])):n.push(0))}else if("ALIAS"==r){var c=this.getAliasFormula(a[i]);void 0!=c&&n.push(this.getCalculated(c))}}for(var u=0,d=0;d<n.length;d++)u+=n[d];return console.log(u),this.setCalculatedValue(e,1,u),this.updateAns(),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.simple){var _=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,_),this.updateAns(),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.compose){var p=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,p),this.updateAns(),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.equal){var h=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,h),this.updateAns(),!0}},simpleCalculated:function(e){if(e.tipo==this.constants_calculated.sum){for(var s=e["CPO"].split(";"),t=[],a=0;a<s.length;a++){var n="NA";if(-1!=s[a].indexOf("&")&&(n="ID"),-1!=s[a].indexOf("!")&&(n="ALIAS"),"ID"==n){var i=s[a].split("&")[1],r=this.getAnswerValues(parseInt(i));parseFloat("____________________SUM"),void 0!=r&&(null!=r["dato_text"]&&void 0!=r["dato_text"]&&""!=r["dato_text"]?(console.log(parseFloat(r["dato_text"])),t.push(parseFloat(r["dato_text"]))):null!=r["dato_calc1"]&&void 0!=r["dato_calc1"]&&""!=r["dato_calc1"]?t.push(parseFloat(r["dato_calc1"])):t.push(0))}else if("ALIAS"==n){var o=this.getAliasFormula(s[a]);void 0!=o&&t.push(this.getCalculated(o))}}for(var l=0,c=0;c<t.length;c++)l+=t[c];return console.log(l),l}var u,d,_="NA",p="NA";-1!=e["CPO"].indexOf("&")&&(_="ID"),-1!=e["CPO"].indexOf("#")&&(_="VAR"),-1!=e["CPO"].indexOf("!")&&(_="ALIAS"),-1!=e["CPO"].indexOf("[")&&(_="CONST"),-1!=e["CPO"].indexOf("?")&&(_="REF"),-1!=e["CPO2"].indexOf("&")&&(p="ID"),-1!=e["CPO2"].indexOf("#")&&(p="VAR"),-1!=e["CPO2"].indexOf("!")&&(p="ALIAS"),-1!=e["CPO2"].indexOf("[")&&(p="CONST"),-1!=e["CPO2"].indexOf("?")&&(p="REF");var h={"+":function(e,s){return e+s},"-":function(e,s){return e-s},"/":function(e,s){return e/s},"*":function(e,s){return e*s},IGUAL:function(e,s){return s=0,e+s}};if("ID"==_){var v=e["CPO"].split("&")[1],f=this.getAnswerValues(parseInt(v)),A=this.getQuestions(parseInt(v));void 0!=A&&("abierto numero"==A["TIPO_1"]?void 0!=f&&(u=null!=f["dato_text"]&&void 0!=f["dato_text"]&&""!=f["dato_text"]?parseFloat(f["dato_text"]):0):"calculado"==A["TIPO_1"]&&void 0!=f&&(u=null!=f["dato_calc1"]&&void 0!=f["dato_calc1"]&&""!=f["dato_calc1"]?parseFloat(f["dato_calc1"]):0))}else if("VAR"==_){var w=this.variables.filter((function(s){return s["NOMBRE"]==e["CPO"]}))[0];u=w["VALOR"]}else if("ALIAS"==_){var T=this.getAliasFormula(e["CPO"]);void 0!=T&&(u=this.simpleCalculated(T))}else if("CONST"==_){var b=e["CPO"].split("[")[1],O=b.split("]")[0];u=parseFloat(O.replace(",","."))}else if("REF"==_){var S=e["CPO"].split("?")[1],N=this.getRefValue(S);void 0!=N&&(u=parseFloat(N["DATA"]))}if("ID"==p){var I=e["CPO2"].split("&")[1],P=this.getAnswerValues(parseInt(I)),g=this.getQuestions(parseInt(I));void 0!=g&&("abierto numero"==g["TIPO_1"]?void 0!=P&&(d=null!=P["dato_text"]&&void 0!=P["dato_text"]&&""!=P["dato_text"]?parseFloat(P["dato_text"]):0):"calculado"==g["TIPO_1"]&&void 0!=P&&(d=null!=P["dato_calc1"]&&void 0!=P["dato_calc1"]&&""!=P["dato_calc1"]?parseFloat(P["dato_calc1"]):0))}else if("VAR"==p){console.log(e["CPO2"]);var E=this.variables.filter((function(s){return s["NOMBRE"]==e["CPO2"]}))[0];console.log(E),d=E["VALOR"]}else if("ALIAS"==p){var m=this.getAliasFormula(e["CPO2"]);void 0!=m&&(d=this.simpleCalculated(m))}else if("CONST"==p){var x=e["CPO2"].split("[")[1],U=x.split("]")[0];d=parseFloat(U.replace(",","."))}else if("REF"==p){var q=e["CPO2"].split("?")[1],C=this.getRefValue(q);void 0!=C&&(d=parseFloat(C["DATA"]))}return e.tipo==this.constants_calculated.simple&&(console.log("______________________________________________________________________"),console.log("CPD: "+e["CPD"]),console.log(u+e["OP"]+d+"="+h[e["OP"]](u,d)),console.log("CPO: "+e["CPO"]+" - "+_),console.log("CPO2: "+e["CPO2"]+" - "+p),console.log("ALIAS: "+e["alias"])),console.log(e["OP"]),h[e["OP"]](u,d)},updateAns:function(){this.answer_shared=this.answers,this.$emit("input",this.answer_shared)},getRefValue:function(e){return this.references.filter((function(s){return s["ID_REFERENCIA"]==e}))[0]},getAliasFormula:function(e){return console.log(e),this.formulaAlias.filter((function(s){return s.alias==e}))[0]},setCalculatedValue:function(e,s,t){this.answers[e]["dato_calc"+s]=t},getCalculatedValue:function(e,s){return this.answers[e]["dato_calc"+s]},getQuestionsSec:function(e){var s=this.questions.filter((function(s){return s["ID_PREGUNTA"]==parseInt(e)}))[0];return s},getAnswerValuesSec:function(e){var s=this.answers.filter((function(s){return s.id_pregunta==parseInt(e)}))[0];return s},getQuestions:function(e){var s=this.questions.filter((function(s){return s["ID_PREGUNTA"]==parseInt(e)}))[0];return void 0==s?(s=this.ques.filter((function(s){return s["ID_PREGUNTA"]==parseInt(e)}))[0],s):s},getAnswerValues:function(e){var s=this.answers.filter((function(s){return s.id_pregunta==parseInt(e)}))[0];return void 0==s?(s=this.ansd.filter((function(s){return s.id_pregunta==parseInt(e)}))[0],s):s},setAnswerValueTable:function(e){var s=this.answers.findIndex((function(s){return s.id_pregunta==parseInt(e)}));this.answers[s]["dato_text"]="10"},setRowsTables:function(e,s){var t=this.questions[e]["TANSWERS"].length,a=s-t;if(a<0)for(var n=0;n<-1*a;n++)this.removeTableAnswer(e);if(a>0)for(var i=0;i<a;i++)this.addTableAnswer(e)},addTableAnswer:function(e){this.questions[e]["TANSWERS"].push({1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""}),this.$forceUpdate()},removeTableAnswer:function(e){this.questions[e]["TANSWERS"].pop(),this.$forceUpdate()},getRes:function(e,s){return this.questions[s]["RESPUESTAS"].filter((function(s){return parseInt(s["COLUMNA"])==parseInt(e)}))},ifActive:function(e,s){var t=0;return 1==e["A"]&&t++,1==e["B"]&&t++,1==e["C"]&&t++,1==e["D"]&&t++,1==e["E"]&&t++,1==e["F"]&&t++,1==e["G"]&&t++,1==e["H"]&&t++,1==e["I"]&&t++,1==e["J"]&&t++,s<=t},updateQuestions:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function s(){var t,a,n,i,r,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isLoad=!1,e.answers=[],e.$store.dispatch("setLoading"),s.prev=3,s.next=6,window.eel.getSPDAQuestions(e.wizard,e.section)(t);case 6:for(t=s.sent,e.questions=JSON.parse(t),a=function(s){setTimeout(Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getSPDAAnswers(e.questions[s]["ID_PREGUNTA"])(a);case 3:a=t.sent,void 0!=a&&a.length>0?(e.questions[s]["RESPUESTAS"]=JSON.parse(a),e.isLoad=!0):(e.questions[s]["RESPUESTAS"]=[],e.isLoad=!1),t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s),e.questions[s]["RESPUESTAS"]=[];case 12:return e.answers.push({id_pregunta:e.questions[s]["ID_PREGUNTA"],A:0,B:0,C:0,D:0,E:0,F:0,G:0,H:0,I:0,J:0,dato_ref:"",dato_calc1:"",dato_calc2:"",dato_calc3:"",dato_calc4:"",anio:"",dato_text:"",dato_unico:"",nombre_edita:"",correo_edita:"",entidad_edita:"",numerot_edita:"",notas_edita:"",fuentes_edita:"",puntaje:0,anio_actual:e.year,id_territorio:e.idDes}),"año editable"!=e.questions[s]["TIPO_4"]&&"año editable"!=e.questions[s]["TIPO_3"]||(e.answers[s].anio=2019),n=0,n=""!=e.answers[s].anio?e.answers[s].anio:e.answers[s].anio_actual,t.prev=16,t.next=19,window.eel.getReferencesQuestion(e.questions[s]["ID_PREGUNTA"],n,e.idDes)(i);case 19:i=t.sent,void 0!=i?(r=JSON.parse(i),r.length>0?(e.questions[s]["REFERENCE"]=r[0],e.answers[s].dato_ref=e.questions[s]["REFERENCE"]["DATA"]):e.questions[s]["REFERENCE"]=[]):e.questions[s]["REFERENCE"]=[],t.next=28;break;case 23:t.prev=23,t.t1=t["catch"](16),console.log(t.t1),console.log("in index "+s),e.questions[s]["REFERENCE"];case 28:case"end":return t.stop()}}),t,null,[[0,7],[16,23]])}))),500),setTimeout(Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getTables(e.questions[s]["ID_PREGUNTA"])(a);case 3:a=t.sent,void 0!=a&&a.length>0?(e.questions[s]["TABLES"]=JSON.parse(a),e.questions[s]["TANSWERS"]=[]):(e.questions[s]["TABLES"]=[],e.questions[s]["TANSWERS"]=[]),t.next=13;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s),e.questions[s]["TABLES"]=[],e.questions[s]["TANSWERS"]=[];case 13:case"end":return t.stop()}}),t,null,[[0,7]])}))),500),setTimeout(Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getFormula(e.questions[s]["ID_PREGUNTA"])(a);case 3:a=t.sent,void 0!=a&&a.length>0?e.questions[s]["FORMULA"]=JSON.parse(a):e.questions[s]["FORMULA"]=[],t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s),e.questions[s]["FORMULA"]=[];case 12:case"end":return t.stop()}}),t,null,[[0,7]])}))),500),setTimeout(Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getPoints(e.questions[s]["ID_PREGUNTA"])(a);case 3:a=t.sent,void 0!=a&&a.length>0?e.questions[s]["PUNTOS"]=JSON.parse(a):e.questions[s]["PUNTOS"]=[],t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s),e.questions[s]["PUNTOS"]=[];case 12:case"end":return t.stop()}}),t,null,[[0,7]])}))),500),setTimeout(Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,o,l,c,u,d,_,p,h,v,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getUserAnswers(e.questions[s]["ID_PREGUNTA"],e.year,e.idDes)(a);case 3:if(a=t.sent,void 0!=a&&a.length>2){if(n=JSON.parse(a),e.answers[s].id_pregunta=n[0].id_pregunta,e.answers[s].A=n[0].A,e.answers[s].B=n[0].B,e.answers[s].C=n[0].C,e.answers[s].D=n[0].D,e.answers[s].E=n[0].E,e.answers[s].F=n[0].F,e.answers[s].G=n[0].G,e.answers[s].H=n[0].H,e.answers[s].I=n[0].I,e.answers[s].J=n[0].J,e.answers[s].dato_ref=n[0].dato_ref,e.answers[s].dato_calc1=n[0].dato_calc1,e.answers[s].dato_calc2=n[0].dato_calc2,e.answers[s].dato_calc3=n[0].dato_calc3,e.answers[s].dato_calc4=n[0].dato_calc4,e.answers[s].anio=n[0].anio,e.answers[s].dato_text=n[0].dato_text,e.answers[s].dato_unico="",e.answers[s].nombre_edita=n[0].nombre_edita,e.answers[s].correo_edita=n[0].correo_edita,e.answers[s].entidad_edita=n[0].entidad_edita,e.answers[s].numerot_edita=n[0].numerot_edita,e.answers[s].notas_edita=n[0].notas_edita,e.answers[s].fuentes_edita=n[0].fuentes_edita,e.answers[s].puntaje=""==n[0].puntaje?0:n[0].puntaje,e.answers[s].anio_actual=n[0].anio_actual,e.answers[s].id_territorio=n[0].id_territorio,"selección unica"==e.questions[s]["TIPO_1"]||"selección unica"==e.questions[s]["TIPO_2"]||"selección unica"==e.questions[s]["TIPO_3"]||"selección unica"==e.questions[s]["TIPO_4"])try{1==e.answers[s]["A"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][0]),1==e.answers[s]["B"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][1]),1==e.answers[s]["C"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][2]),1==e.answers[s]["D"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][3]),1==e.answers[s]["E"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][4]),1==e.answers[s]["F"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][5]),1==e.answers[s]["G"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][6]),1==e.answers[s]["H"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][7]),1==e.answers[s]["I"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][8]),1==e.answers[s]["J"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][9])}catch(A){console.log("fail load - "+A)}if("tabla"==e.questions[s]["TIPO_1"]||"tabla"==e.questions[s]["TIPO_2"]||"tabla"==e.questions[s]["TIPO_3"]||"tabla"==e.questions[s]["TIPO_4"])for(e.questions[s]["TANSWERS"]=[],i=[],r=[],o=[],l=[],c=[],u=[],d=[],_=[],p=[],h=[],i=e.answers[s]["A"].split(";"),r=e.answers[s]["B"].split(";"),o=e.answers[s]["C"].split(";"),l=e.answers[s]["D"].split(";"),c=e.answers[s]["E"].split(";"),u=e.answers[s]["F"].split(";"),d=e.answers[s]["G"].split(";"),_=e.answers[s]["H"].split(";"),p=e.answers[s]["I"].split(";"),h=e.answers[s]["J"].split(";"),v=function(t){e.questions[s]["TANSWERS"].push({1:void 0==e.questions[s]["TABLES"][0]?"":"selección unica"==e.questions[s]["TABLES"][0]["TIPO"]?void 0!=i[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"1"==e["COLUMNA"]&&e["TEXTO"]==i[t]}))[0]:"":void 0!=i[t]&&i[t].length>0?i[t]:"",2:void 0==e.questions[s]["TABLES"][1]?"":"selección unica"==e.questions[s]["TABLES"][1]["TIPO"]?void 0!=r[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"2"==e["COLUMNA"]&&e["TEXTO"]==r[t]}))[0]:"":void 0!=r[t]&&r[t].length>0?r[t]:"",3:void 0==e.questions[s]["TABLES"][2]?"":"selección unica"==e.questions[s]["TABLES"][2]["TIPO"]?void 0!=o[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"3"==e["COLUMNA"]&&e["TEXTO"]==o[t]}))[0]:"":void 0!=o[t]&&o[t].length>0?o[t]:"",4:void 0==e.questions[s]["TABLES"][3]?"":"selección unica"==e.questions[s]["TABLES"][3]["TIPO"]?void 0!=l[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"4"==e["COLUMNA"]&&e["TEXTO"]==l[t]}))[0]:"":void 0!=l[t]&&l[t].length>0?l[t]:"",5:void 0==e.questions[s]["TABLES"][4]?"":"selección unica"==e.questions[s]["TABLES"][4]["TIPO"]?void 0!=c[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"5"==e["COLUMNA"]&&e["TEXTO"]==c[t]}))[0]:"":void 0!=c[t]&&c[t].length>0?c[t]:"",6:void 0==e.questions[s]["TABLES"][5]?"":"selección unica"==e.questions[s]["TABLES"][5]["TIPO"]?void 0!=u[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"6"==e["COLUMNA"]&&e["TEXTO"]==u[t]}))[0]:"":void 0!=u[t]&&u[t].length>0?u[t]:"",7:void 0==e.questions[s]["TABLES"][6]?"":"selección unica"==e.questions[s]["TABLES"][6]["TIPO"]?void 0!=d[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"7"==e["COLUMNA"]&&e["TEXTO"]==d[t]}))[0]:"":void 0!=d[t]&&d[t].length>0?d[t]:"",8:void 0==e.questions[s]["TABLES"][7]?"":"selección unica"==e.questions[s]["TABLES"][7]["TIPO"]?void 0!=_[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"8"==e["COLUMNA"]&&e["TEXTO"]==_[t]}))[0]:"":void 0!=_[t]&&_[t].length>0?_[t]:"",9:void 0==e.questions[s]["TABLES"][8]?"":"selección unica"==e.questions[s]["TABLES"][8]["TIPO"]?void 0!=p[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"9"==e["COLUMNA"]&&e["TEXTO"]==p[t]}))[0]:"":void 0!=p[t]&&p[t].length>0?p[t]:"",10:void 0==e.questions[s]["TABLES"][9]?"":"selección unica"==e.questions[s]["TABLES"][9]["TIPO"]?void 0!=h[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"10"==e["COLUMNA"]&&e["TEXTO"]==h[t]}))[0]:"":void 0!=h[t]&&h[t].length>0?h[t]:""})},f=0;f<i.length-1;f++)v(f)}t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),500)},n=0;n<e.questions.length;n++)a(n);e.isLoad=!0,e.$store.dispatch("clearLoading"),s.next=19;break;case 14:s.prev=14,s.t0=s["catch"](3),console.log(s.t0),e.isLoad=!0,e.$store.dispatch("clearLoading");case 19:return e.$store.dispatch("setLoading"),s.prev=20,s.next=23,window.eel.getVariables()(i);case 23:i=s.sent,e.variables=JSON.parse(i),e.$store.dispatch("clearLoading"),s.next=33;break;case 28:s.prev=28,s.t1=s["catch"](20),console.log(s.t1),e.isLoad=!0,e.$store.dispatch("clearLoading");case 33:return e.$store.dispatch("setLoading"),s.prev=34,s.next=37,window.eel.getFormulaByAlias()(r);case 37:r=s.sent,e.formulaAlias=JSON.parse(r),e.$store.dispatch("clearLoading"),s.next=46;break;case 42:s.prev=42,s.t2=s["catch"](34),console.log(s.t2),e.$store.dispatch("clearLoading");case 46:return e.$store.dispatch("setLoading"),s.prev=47,s.next=50,window.eel.getReferences(e.year,e.idDes)(o);case 50:o=s.sent,e.references=JSON.parse(o),e.$store.dispatch("clearLoading"),s.next=59;break;case 55:s.prev=55,s.t3=s["catch"](47),console.log(s.t3),e.$store.dispatch("clearLoading");case 59:case"end":return s.stop()}}),s,null,[[3,14],[20,28],[34,42],[47,55]])})))()},validAnswers:function(){this.error=!1,this.errorMessage="Verifica las preguntas: <br>";for(var e=0;e<this.questions.length;e++){if("abierto fecha"!=this.questions[e]["TIPO_1"]&&"abierto texto"!=this.questions[e]["TIPO_1"]&&"abierto numero"!=this.questions[e]["TIPO_1"]&&"abierto fecha"!=this.questions[e]["TIPO_2"]&&"abierto texto"!=this.questions[e]["TIPO_2"]&&"abierto numero"!=this.questions[e]["TIPO_2"]&&"abierto fecha"!=this.questions[e]["TIPO_3"]&&"abierto texto"!=this.questions[e]["TIPO_3"]&&"abierto numero"!=this.questions[e]["TIPO_3"]&&"abierto fecha"!=this.questions[e]["TIPO_4"]&&"abierto texto"!=this.questions[e]["TIPO_4"]&&"abierto numero"!=this.questions[e]["TIPO_4"]||""!=this.answers[e]["dato_text"]&&null!=this.answers[e]["dato_text"]||(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"),"selección multiple"==this.questions[e]["TIPO_1"]||"selección multiple"==this.questions[e]["TIPO_2"]||"selección multiple"==this.questions[e]["TIPO_3"]||"selección multiple"==this.questions[e]["TIPO_4"]){var s=0;1==this.answers[e]["A"]&&s++,1==this.answers[e]["B"]&&s++,1==this.answers[e]["C"]&&s++,1==this.answers[e]["D"]&&s++,1==this.answers[e]["E"]&&s++,1==this.answers[e]["F"]&&s++,1==this.answers[e]["G"]&&s++,1==this.answers[e]["H"]&&s++,1==this.answers[e]["I"]&&s++,1==this.answers[e]["J"]&&s++,0==s&&(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>")}if("selección unica"!=this.questions[e]["TIPO_1"]&&"selección unica"!=this.questions[e]["TIPO_2"]&&"selección unica"!=this.questions[e]["TIPO_3"]&&"selección unica"!=this.questions[e]["TIPO_4"]||(void 0==this.answers[e]["dato_unico"]["TEXTO"]?(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"):(this.answers[e]["A"]=0,this.answers[e]["B"]=0,this.answers[e]["C"]=0,this.answers[e]["D"]=0,this.answers[e]["E"]=0,this.answers[e]["F"]=0,this.answers[e]["G"]=0,this.answers[e]["H"]=0,this.answers[e]["I"]=0,this.answers[e]["J"]=0,this.answers[e][this.answers[e]["dato_unico"]["COLUMNA"]]=1)),"año editable"!=this.questions[e]["TIPO_1"]&&"año editable"!=this.questions[e]["TIPO_2"]&&"año editable"!=this.questions[e]["TIPO_3"]&&"año editable"!=this.questions[e]["TIPO_4"]||""!=this.answers[e]["anio"]&&null!=this.answers[e]["anio"]||(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"),"tabla"==this.questions[e]["TIPO_1"]||"tabla"==this.questions[e]["TIPO_2"]||"tabla"==this.questions[e]["TIPO_3"]||"tabla"==this.questions[e]["TIPO_4"]){this.answers[e]["A"]="",this.answers[e]["B"]="",this.answers[e]["C"]="",this.answers[e]["D"]="",this.answers[e]["E"]="",this.answers[e]["F"]="",this.answers[e]["G"]="",this.answers[e]["H"]="",this.answers[e]["I"]="",this.answers[e]["J"]="";for(var t=0;t<this.questions[e]["TANSWERS"].length;t++)for(var a=0;a<this.questions[e]["TABLES"].length;a++){if("abierto numero"==this.questions[e]["TABLES"][a]["TIPO"]||"abierto texto"==this.questions[e]["TABLES"][a]["TIPO"]||"abierto fecha"==this.questions[e]["TABLES"][a]["TIPO"])if(""==this.questions[e]["TANSWERS"][t][a+1]||null==this.questions[e]["TANSWERS"][t][a+1])this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>";else{var n=String.fromCharCode(64+a+1);this.answers[e][n]+=this.questions[e]["TANSWERS"][t][a+1]+";"}if("selección unica"==this.questions[e]["TABLES"][a]["TIPO"])if(void 0==this.questions[e]["TANSWERS"][t][a+1])this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>";else{var i=String.fromCharCode(64+a+1);this.answers[e][i]+=this.questions[e]["TANSWERS"][t][a+1]["TEXTO"]+";"}}}for(var r={"=":function(e,s){return e==s},">":function(e,s){return e>s},"<":function(e,s){return e<s},">=":function(e,s){return e>=s},"<=":function(e,s){return e<=s}},o=0;o<this.questions[e]["PUNTOS"].length;o++){var l=this.questions[e]["PUNTOS"][o]["OPERADOR_1"],c=this.questions[e]["PUNTOS"][o]["OPERADOR_2"],u=this.questions[e]["PUNTOS"][o]["VALOR_1"],d=this.questions[e]["PUNTOS"][o]["VALOR_2"],_=this.questions[e]["PUNTOS"][o]["TIPO"],p=this.questions[e]["PUNTOS"][o]["PUNTOS"];if("MULTIPLE"==_){var h=u.toUpperCase(),v=d.toUpperCase();"NA"!=h&&(h=h.split(";")),"NA"!=v&&(v=v.split(";"));var f=[];if(console.log(l),console.log(this.questions[e]["PUNTOS"][o]["ID_PREGUNTA"]),console.log(h),console.log("____________________________________________"),"="==l){for(var A=0;A<h.length;A++)1==this.answers[e][h[A]]?this.answers[e].puntaje=p:this.answers[e].puntaje=0;0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("OR"==l){for(var w=0;w<h.length;w++)1==this.answers[e][h[w]]?f.push(!0):f.push(!1);f.includes(!0)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("AND"==l){var T=0;1==this.answers[e]["A"]&&T++,1==this.answers[e]["B"]&&T++,1==this.answers[e]["C"]&&T++,1==this.answers[e]["D"]&&T++,1==this.answers[e]["E"]&&T++,1==this.answers[e]["F"]&&T++,1==this.answers[e]["G"]&&T++,1==this.answers[e]["H"]&&T++,1==this.answers[e]["I"]&&T++,1==this.answers[e]["J"]&&T++;for(var b=0;b<h.length;b++)1==this.answers[e][h[b]]?f.push(!0):f.push(!1);f.every((function(e){return 1==e}))&&T==h.length?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}else if("UNICA"==_){var O=u.toUpperCase();"="==l&&(1==this.answers[e][O]?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length))}else if("FECHA"==_){var S="NA"!=u?parseFloat(u.replace(",",".")):"NA",N=new Date(this.answers[e]["dato_text"]),I=this.year-N.getFullYear();r[l](I,S)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("PORCENTAJE"==_){var P="NA"!=u?parseFloat(u.replace(",",".")):"NA",g="NA"!=d?parseFloat(d.replace(",",".")):"NA";if("NA"==c)r[l](this.answers[e]["dato_text"],P)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length);else{var E=null,m=null;E=r[l](this.answers[e]["dato_text"],P),m=r[c](this.answers[e]["dato_text"],g),this.answers[e].puntaje=E&&m?p:0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}else if("VALOR"==_){var x="NA"!=u?parseFloat(u.replace(",",".")):"NA",U="NA"!=d?parseFloat(d.replace(",",".")):"NA";if("NA"==c)r[l](this.answers[e]["dato_text"],x)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length);else{var q=null,C=null;q=r[l](this.answers[e]["dato_text"],x),C=r[c](this.answers[e]["dato_text"],U),this.answers[e].puntaje=q&&C?p:0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}}}for(var R=0;R<this.validationF.length;R++){var D=void 0,L=void 0,k=this.validationF[R]["CPO"].split("&")[1],$=this.getAnswerValuesSec(parseInt(k)),F=this.getQuestionsSec(parseInt(k)),M=this.validationF[R]["CPO2"].split("&")[1],y=this.getAnswerValuesSec(parseInt(M)),j=this.getQuestionsSec(parseInt(M));void 0!=F&&("abierto numero"==F["TIPO_1"]?void 0!=$&&(D=null!=$["dato_text"]||void 0!=$["dato_text"]||""!=$["dato_text"]?parseFloat($["dato_text"]):null):"calculado"==F["TIPO_1"]&&void 0!=$&&(D=null!=$["dato_calc1"]||void 0!=$["dato_calc1"]||""!=$["dato_calc1"]?parseFloat($["dato_calc1"]):null)),void 0!=j&&("abierto numero"==j["TIPO_1"]?void 0!=y&&(L=null!=y["dato_text"]||void 0!=y["dato_text"]||""!=y["dato_text"]?parseFloat(y["dato_text"]):null):"calculado"==j["TIPO_1"]&&void 0!=y&&(L=null!=y["dato_calc1"]||void 0!=y["dato_calc1"]||""!=y["dato_calc1"]?parseFloat(y["dato_calc1"]):null)),null!=D&&null!=L&&D!=L&&(this.error=!0,this.errorMessage+="<b>"+F["COD_PREGUNTA"]+"</b> "+F["PREGUNTA"]+", no es igual a: <b>"+j["COD_PREGUNTA"]+"</b> "+j["PREGUNTA"]+"<br>")}this.error?this.$refs["error"].show():this.$refs["edito"].show()},saveAnswers:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function s(){var t,a,n,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:for(t=0;t<e.answers.length;t++)e.answers[t].nombre_edita=e.edit_person.nombre_edita,e.answers[t].correo_edita=e.edit_person.correo_edita,e.answers[t].entidad_edita=e.edit_person.entidad_edita,e.answers[t].numerot_edita=e.edit_person.numerot_edita,e.answers[t].notas_edita=e.edit_person.notas_edita,e.answers[t].fuentes_edita=e.edit_person.fuentes_edita;for(a=JSON.stringify(e.answers),n=JSON.parse(a),i=0;i<n.length;i++)delete n[i].dato_unico;return e.$store.dispatch("setLoading"),s.prev=5,s.next=8,window.eel.saveAnswers(JSON.stringify(n))(r);case 8:r=s.sent,e.makeToast("success",e.$t("descriptive.data_save")),e.$store.dispatch("clearLoading"),e.$refs["edito"].hide(),s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](5),e.$store.dispatch("clearLoading"),console.log("Error");case 18:case"end":return s.stop()}}),s,null,[[5,14]])})))()},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(s,{title:s,variant:e,solid:!0,autoHideDelay:2e3,toaster:"b-toaster-bottom-right"})},validNumber:function(e){if(0===e.charCode||this.regN.test(String.fromCharCode(e.charCode)))return!0;e.preventDefault()}}}),u=c,d=(t("f51d"),t("c7ab"),t("2877")),_=Object(d["a"])(u,r,o,!1,null,"65b72199",null),p=_.exports,h={name:"Proyect",components:{board:i["a"],question:p},data:function(){return{year:2021,idDes:null,answer_shared:[]}}},v=h,f=(t("e38d"),Object(d["a"])(v,a,n,!1,null,"60ad1fc7",null));s["default"]=f.exports},"69ba":function(e,s,t){},"754c":function(e,s,t){e.exports=t.p+"img/loader.330ade0f.png"},"81de":function(e,s,t){},c740:function(e,s,t){"use strict";var a=t("23e7"),n=t("b727").findIndex,i=t("44d2"),r="findIndex",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(r)},c7ab:function(e,s,t){"use strict";t("81de")},caad:function(e,s,t){"use strict";var a=t("23e7"),n=t("4d64").includes,i=t("44d2");a({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},e38d:function(e,s,t){"use strict";t("2a92")},f51d:function(e,s,t){"use strict";t("69ba")}}]);
//# sourceMappingURL=chunk-4bda679b.7895f530.js.map