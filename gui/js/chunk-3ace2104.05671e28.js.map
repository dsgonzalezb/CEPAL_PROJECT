{"version":3,"sources":["webpack:///./src/views/Sankey.vue?0af3","webpack:///src/views/Sankey.vue","webpack:///./src/views/Sankey.vue?2df1","webpack:///./src/views/Sankey.vue","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","data","mounted","margin","formatNumber","d3","format","svg","select","append","sankey","path","link","energy","selectAll","node","dragmove","d","attr","x","y","Math","max","min","height","dy","event","relayout","component","requireObjectCoercible","toString","quot","module","exports","string","tag","attribute","value","S","p1","replace","$","createHTML","forcedStringHTMLMethod","target","proto","forced","url","fails","METHOD_NAME","test","toLowerCase","split","length","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAsBH,EAAII,MAAMC,GAAO,OAAOL,EAAIM,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,iBCSnM,G,4DAAA,CACEC,KADF,WAEI,MAAO,IAGTC,QALF,WAMI,IAAIC,EAAS,CAAjB,+BACA,qBACA,qBAEQC,EAAeC,GAAGC,OAAO,QACjC,cAAM,OAAN,aACA,wBAEQC,EAAMF,GAAGG,OAAO,UAAUC,OAAO,OACzC,+BACA,gCACA,YACA,oDAEQC,EAASL,GAAGK,SACpB,cACA,gBACA,YAEQC,EAAOD,EAAOE,OAEdC,EAAS,CAAjB,OACA,8BACA,wBACA,gBACA,gBACA,eACA,aACA,yBACA,yBACA,sBACA,cACA,uBACA,0BACA,kBACA,0CACA,qCACA,0BACA,mCACA,uBACA,wBACA,qBACA,wBACA,4CACA,uCACA,qBACA,cACA,sBACA,4BACA,oBACA,YACA,eACA,gCACA,2BACA,gCACA,6BACA,sBACA,iBACA,qBACA,aACA,sBACA,qBACA,qBACA,kBACA,uBACA,eACA,eACA,iCACA,cACA,eAEA,OACA,kCACA,+BACA,iCACA,kCACA,iCACA,6BACA,6BACA,iCACA,kCACA,iCACA,mCACA,mCACA,mCACA,oCACA,oCACA,kCACA,oCACA,mCACA,kCACA,mCACA,kCACA,kCACA,mCACA,mCACA,mCACA,mCACA,gCACA,gCACA,mCACA,iCACA,iCACA,kCACA,mCACA,iCACA,mCACA,kCACA,mCACA,kCACA,mCACA,kCACA,mCACA,gCACA,kCACA,iCACA,iCACA,mCACA,oCACA,oCACA,oCACA,kCACA,kCACA,iCACA,oCACA,mCACA,mCACA,mCACA,mCACA,mCACA,gCACA,kCACA,kCACA,oCACA,mCACA,mCACA,kCACA,kCACA,mCACA,sCAGIH,EACJ,eACA,eACA,WAEI,IAAIE,EAAOL,EAAIE,OAAO,KAAKK,UAAU,SACzC,cACA,uBACA,qBACA,YACA,kCAAM,OAAN,oBACA,oBAAM,OAAN,aAEIF,EAAKH,OAAO,SAChB,kBAAM,OAAN,qDAEI,IAAIM,EAAOR,EAAIE,OAAO,KAAKK,UAAU,SACzC,cACA,oBACA,qBACA,8BAAM,MAAN,gCACA,wBACA,oBAAM,OAAN,KACA,2BAAM,KAAN,gCACA,cAqBI,SAASE,EAASC,GAChBZ,GAAGG,OAAOhB,MAAM0B,KAAK,YAAa,aAAeD,EAAEE,EAAI,KAAOF,EAAEG,EAAIC,KAAKC,IAAI,EAAGD,KAAKE,IAAIC,EAASP,EAAEQ,GAAIpB,GAAGqB,MAAMN,KAAO,KACxHV,EAAOiB,WACPf,EAAKM,KAAK,IAAKP,GAtBjBI,EAAKN,OAAO,QAChB,2BAAM,OAAN,QACA,4BACA,0BAAM,OAAN,uCACA,4BAAM,OAAN,6BACA,gBACA,kBAAM,OAAN,0BAEIM,EAAKN,OAAO,QAChB,aACA,sBAAM,OAAN,UACA,mBACA,0BACA,uBACA,kBAAM,OAAN,UACA,oBAAM,OAAN,WACA,0BACA,+BCzMgV,I,YCO5UmB,EAAY,eACd,EACAtC,EACAQ,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E,gCClBf,IAAIC,EAAyB,EAAQ,QACjCC,EAAW,EAAQ,QAEnBC,EAAO,KAIXC,EAAOC,QAAU,SAAUC,EAAQC,EAAKC,EAAWC,GACjD,IAAIC,EAAIR,EAASD,EAAuBK,IACpCK,EAAK,IAAMJ,EAEf,MADkB,KAAdC,IAAkBG,GAAM,IAAMH,EAAY,KAAON,EAASO,GAAOG,QAAQT,EAAM,UAAY,KACxFQ,EAAK,IAAMD,EAAI,KAAOH,EAAM,M,kCCVrC,IAAIM,EAAI,EAAQ,QACZC,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QAIrCF,EAAE,CAAEG,OAAQ,SAAUC,OAAO,EAAMC,OAAQH,EAAuB,SAAW,CAC3E/B,KAAM,SAAcmC,GAClB,OAAOL,EAAWlD,KAAM,IAAK,OAAQuD,O,qBCTzC,IAAIC,EAAQ,EAAQ,QAIpBhB,EAAOC,QAAU,SAAUgB,GACzB,OAAOD,GAAM,WACX,IAAIE,EAAO,GAAGD,GAAa,KAC3B,OAAOC,IAASA,EAAKC,eAAiBD,EAAKE,MAAM,KAAKC,OAAS,O,qBCPnE,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkB3B,SAC9C+B,EAAS,wBACTC,EAAO,OAIPR,KAAiBQ,KAAQL,IAC3BF,EAAeE,EAAmBK,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOJ,EAA0BK,KAAKzE,MAAM0E,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO","file":"js/chunk-3ace2104.05671e28.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"wrap\"},[_c('div',{attrs:{\"id\":\"chart\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"wrap\">\r\n      <div id=\"chart\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  mounted(){\r\n    var margin = {top: 1, right: 1, bottom: 6, left: 1},\r\n    width = 960 - margin.left - margin.right,\r\n    height = 500 - margin.top - margin.bottom;\r\n\r\n    var formatNumber = d3.format(\",.0f\"),\r\n        format = function(d) { return formatNumber(d) + \" TWh\"; },\r\n        color = d3.scale.category20();\r\n\r\n    var svg = d3.select(\"#chart\").append(\"svg\")\r\n        .attr(\"width\", width + margin.left + margin.right)\r\n        .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    var sankey = d3.sankey()\r\n        .nodeWidth(15)\r\n        .nodePadding(10)\r\n        .size([width, height]);\r\n\r\n    var path = sankey.link();\r\n\r\n    var energy = {\"nodes\":[\r\n    {\"name\":\"Agricultural 'waste'\"},\r\n    {\"name\":\"Bio-conversion\"},\r\n    {\"name\":\"Liquid\"},\r\n    {\"name\":\"Losses\"},\r\n    {\"name\":\"Solid\"},\r\n    {\"name\":\"Gas\"},\r\n    {\"name\":\"Biofuel imports\"},\r\n    {\"name\":\"Biomass imports\"},\r\n    {\"name\":\"Coal imports\"},\r\n    {\"name\":\"Coal\"},\r\n    {\"name\":\"Coal reserves\"},\r\n    {\"name\":\"District heating\"},\r\n    {\"name\":\"Industry\"},\r\n    {\"name\":\"Heating and cooling - commercial\"},\r\n    {\"name\":\"Heating and cooling - homes\"},\r\n    {\"name\":\"Electricity grid\"},\r\n    {\"name\":\"Over generation / exports\"},\r\n    {\"name\":\"H2 conversion\"},\r\n    {\"name\":\"Road transport\"},\r\n    {\"name\":\"Agriculture\"},\r\n    {\"name\":\"Rail transport\"},\r\n    {\"name\":\"Lighting & appliances - commercial\"},\r\n    {\"name\":\"Lighting & appliances - homes\"},\r\n    {\"name\":\"Gas imports\"},\r\n    {\"name\":\"Ngas\"},\r\n    {\"name\":\"Gas reserves\"},\r\n    {\"name\":\"Thermal generation\"},\r\n    {\"name\":\"Geothermal\"},\r\n    {\"name\":\"H2\"},\r\n    {\"name\":\"Hydro\"},\r\n    {\"name\":\"International shipping\"},\r\n    {\"name\":\"Domestic aviation\"},\r\n    {\"name\":\"International aviation\"},\r\n    {\"name\":\"National navigation\"},\r\n    {\"name\":\"Marine algae\"},\r\n    {\"name\":\"Nuclear\"},\r\n    {\"name\":\"Oil imports\"},\r\n    {\"name\":\"Oil\"},\r\n    {\"name\":\"Oil reserves\"},\r\n    {\"name\":\"Other waste\"},\r\n    {\"name\":\"Pumped heat\"},\r\n    {\"name\":\"Solar PV\"},\r\n    {\"name\":\"Solar Thermal\"},\r\n    {\"name\":\"Solar\"},\r\n    {\"name\":\"Tidal\"},\r\n    {\"name\":\"UK land based bioenergy\"},\r\n    {\"name\":\"Wave\"},\r\n    {\"name\":\"Wind\"}\r\n    ],\r\n    \"links\":[\r\n    {\"source\":0,\"target\":1,\"value\":124.729},\r\n    {\"source\":1,\"target\":2,\"value\":0.597},\r\n    {\"source\":1,\"target\":3,\"value\":26.862},\r\n    {\"source\":1,\"target\":4,\"value\":280.322},\r\n    {\"source\":1,\"target\":5,\"value\":81.144},\r\n    {\"source\":6,\"target\":2,\"value\":35},\r\n    {\"source\":7,\"target\":4,\"value\":35},\r\n    {\"source\":8,\"target\":9,\"value\":11.606},\r\n    {\"source\":10,\"target\":9,\"value\":63.965},\r\n    {\"source\":9,\"target\":4,\"value\":75.571},\r\n    {\"source\":11,\"target\":12,\"value\":10.639},\r\n    {\"source\":11,\"target\":13,\"value\":22.505},\r\n    {\"source\":11,\"target\":14,\"value\":46.184},\r\n    {\"source\":15,\"target\":16,\"value\":104.453},\r\n    {\"source\":15,\"target\":14,\"value\":113.726},\r\n    {\"source\":15,\"target\":17,\"value\":27.14},\r\n    {\"source\":15,\"target\":12,\"value\":342.165},\r\n    {\"source\":15,\"target\":18,\"value\":37.797},\r\n    {\"source\":15,\"target\":19,\"value\":4.412},\r\n    {\"source\":15,\"target\":13,\"value\":40.858},\r\n    {\"source\":15,\"target\":3,\"value\":56.691},\r\n    {\"source\":15,\"target\":20,\"value\":7.863},\r\n    {\"source\":15,\"target\":21,\"value\":90.008},\r\n    {\"source\":15,\"target\":22,\"value\":93.494},\r\n    {\"source\":23,\"target\":24,\"value\":40.719},\r\n    {\"source\":25,\"target\":24,\"value\":82.233},\r\n    {\"source\":5,\"target\":13,\"value\":0.129},\r\n    {\"source\":5,\"target\":3,\"value\":1.401},\r\n    {\"source\":5,\"target\":26,\"value\":151.891},\r\n    {\"source\":5,\"target\":19,\"value\":2.096},\r\n    {\"source\":5,\"target\":12,\"value\":48.58},\r\n    {\"source\":27,\"target\":15,\"value\":7.013},\r\n    {\"source\":17,\"target\":28,\"value\":20.897},\r\n    {\"source\":17,\"target\":3,\"value\":6.242},\r\n    {\"source\":28,\"target\":18,\"value\":20.897},\r\n    {\"source\":29,\"target\":15,\"value\":6.995},\r\n    {\"source\":2,\"target\":12,\"value\":121.066},\r\n    {\"source\":2,\"target\":30,\"value\":128.69},\r\n    {\"source\":2,\"target\":18,\"value\":135.835},\r\n    {\"source\":2,\"target\":31,\"value\":14.458},\r\n    {\"source\":2,\"target\":32,\"value\":206.267},\r\n    {\"source\":2,\"target\":19,\"value\":3.64},\r\n    {\"source\":2,\"target\":33,\"value\":33.218},\r\n    {\"source\":2,\"target\":20,\"value\":4.413},\r\n    {\"source\":34,\"target\":1,\"value\":4.375},\r\n    {\"source\":24,\"target\":5,\"value\":122.952},\r\n    {\"source\":35,\"target\":26,\"value\":839.978},\r\n    {\"source\":36,\"target\":37,\"value\":504.287},\r\n    {\"source\":38,\"target\":37,\"value\":107.703},\r\n    {\"source\":37,\"target\":2,\"value\":611.99},\r\n    {\"source\":39,\"target\":4,\"value\":56.587},\r\n    {\"source\":39,\"target\":1,\"value\":77.81},\r\n    {\"source\":40,\"target\":14,\"value\":193.026},\r\n    {\"source\":40,\"target\":13,\"value\":70.672},\r\n    {\"source\":41,\"target\":15,\"value\":59.901},\r\n    {\"source\":42,\"target\":14,\"value\":19.263},\r\n    {\"source\":43,\"target\":42,\"value\":19.263},\r\n    {\"source\":43,\"target\":41,\"value\":59.901},\r\n    {\"source\":4,\"target\":19,\"value\":0.882},\r\n    {\"source\":4,\"target\":26,\"value\":400.12},\r\n    {\"source\":4,\"target\":12,\"value\":46.477},\r\n    {\"source\":26,\"target\":15,\"value\":525.531},\r\n    {\"source\":26,\"target\":3,\"value\":787.129},\r\n    {\"source\":26,\"target\":11,\"value\":79.329},\r\n    {\"source\":44,\"target\":15,\"value\":9.452},\r\n    {\"source\":45,\"target\":1,\"value\":182.01},\r\n    {\"source\":46,\"target\":15,\"value\":19.013},\r\n    {\"source\":47,\"target\":15,\"value\":289.366}\r\n    ]};\r\n\r\n    sankey\r\n        .nodes(energy.nodes)\r\n        .links(energy.links)\r\n        .layout(32);\r\n\r\n    var link = svg.append(\"g\").selectAll(\".link\")\r\n        .data(energy.links)\r\n      .enter().append(\"path\")\r\n        .attr(\"class\", \"link\")\r\n        .attr(\"d\", path)\r\n        .style(\"stroke-width\", function(d) { return Math.max(1, d.dy); })\r\n        .sort(function(a, b) { return b.dy - a.dy; });\r\n\r\n    link.append(\"title\")\r\n        .text(function(d) { return d.source.name + \" → \" + d.target.name + \"\\n\" + format(d.value); });\r\n\r\n    var node = svg.append(\"g\").selectAll(\".node\")\r\n        .data(energy.nodes)\r\n      .enter().append(\"g\")\r\n        .attr(\"class\", \"node\")\r\n        .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n      .call(d3.behavior.drag()\r\n        .origin(function(d) { return d; })\r\n        .on(\"dragstart\", function() { this.parentNode.appendChild(this); })\r\n        .on(\"drag\", dragmove));\r\n\r\n    node.append(\"rect\")\r\n        .attr(\"height\", function(d) { return d.dy; })\r\n        .attr(\"width\", sankey.nodeWidth())\r\n        .style(\"fill\", function(d) { return d.color = color(d.name.replace(/ .*/, \"\")); })\r\n        .style(\"stroke\", function(d) { return d3.rgb(d.color).darker(2); })\r\n      .append(\"title\")\r\n        .text(function(d) { return d.name + \"\\n\" + format(d.value); });\r\n\r\n    node.append(\"text\")\r\n        .attr(\"x\", -6)\r\n        .attr(\"y\", function(d) { return d.dy / 2; })\r\n        .attr(\"dy\", \".35em\")\r\n        .attr(\"text-anchor\", \"end\")\r\n        .attr(\"transform\", null)\r\n        .text(function(d) { return d.name; })\r\n      .filter(function(d) { return d.x < width / 2; })\r\n        .attr(\"x\", 6 + sankey.nodeWidth())\r\n        .attr(\"text-anchor\", \"start\");\r\n\r\n    function dragmove(d) {\r\n      d3.select(this).attr(\"transform\", \"translate(\" + d.x + \",\" + (d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))) + \")\");\r\n      sankey.relayout();\r\n      link.attr(\"d\", path);\r\n    }       \r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sankey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sankey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sankey.vue?vue&type=template&id=7bdfb380&scoped=true&\"\nimport script from \"./Sankey.vue?vue&type=script&lang=js&\"\nexport * from \"./Sankey.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bdfb380\",\n  null\n  \n)\n\nexport default component.exports","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + toString(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}