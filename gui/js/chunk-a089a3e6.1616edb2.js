(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a089a3e6"],{"45f4":function(e,t,s){"use strict";s("6608")},"5f0b":function(e,t,s){"use strict";s("ddbe")},6608:function(e,t,s){},c740:function(e,t,s){"use strict";var a=s("23e7"),n=s("b727").findIndex,i=s("44d2"),r="findIndex",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(r)},c868:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("question",{key:6,attrs:{section:6}}),e.completed?s("router-view",{key:e.$route.fullPath}):e._e()],1)},n=[],i=s("1da1"),r=(s("96cf"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[0==e.answers.length&&0==e.isLoad?s("div",{staticClass:"questions"}):e._e(),e.answers.length>0&&e.isLoad?s("div",{staticClass:"questions",on:{mouseover:function(t){return e.$forceUpdate()}}},e._l(e.questions,(function(t,a){return s("div",{key:a,staticClass:"question"},[s("div",{directives:[{name:"show",rawName:"v-show",value:1==t["VISIBLE"],expression:"question['VISIBLE'] == 1"}]},[s("b",[e._v(e._s(t["COD_PREGUNTA"])+" - "+e._s(t["ID_PREGUNTA"]))]),e._v(" "),"titulo"==t["TIPO_1"]?s("b",[e._v(e._s(t["PREGUNTA"]))]):s("span",[e._v(e._s(t["PREGUNTA"]))]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"NA"!=t["AYUDA"],expression:"question['AYUDA'] != 'NA'"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"help",attrs:{title:t["AYUDA"]}},[s("i",{staticClass:"fas fa-question-circle"})]),void 0!=e.answers[a]?s("div",{staticClass:"cols-c"},["NA"!=t["TIPO_1"]?s("div",{staticClass:"col-c"},["grafica"==t["TIPO_1"]?s("div",[s("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"tabla"==t["TIPO_1"]&&void 0!=t["TABLES"]&&void 0!=t["TANSWERS"]?s("div",[s("div",{staticClass:"header"},e._l(t["TABLES"],(function(t,a){return s("div",{key:a,staticClass:"item-h"},[e._v(" "+e._s(t["COLUMNA"])+" ")])})),0),e._l(t["TANSWERS"],(function(n,i){return s("div",{key:i+t["TANSWERS"].length,staticClass:"body"},e._l(t["TABLES"],(function(n,r){return s("div",{key:r,staticClass:"item"},["abierto numero"==n["TIPO"]?s("div",[s("b-input",{on:{paste:function(e){e.preventDefault()},keypress:function(t){return e.validNumber(t)}},model:{value:t["TANSWERS"][i][r+1],callback:function(s){e.$set(t["TANSWERS"][i],r+1,s)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e(),"abierto texto"==n["TIPO"]?s("div",[s("b-input",{model:{value:t["TANSWERS"][i][r+1],callback:function(s){e.$set(t["TANSWERS"][i],r+1,s)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e(),"abierto fecha"==n["TIPO"]?s("div",[s("b-form-datepicker",e._b({attrs:{id:"datepicker-T-"+i+"-"+r,locale:"es"},model:{value:t["TANSWERS"][i][r+1],callback:function(s){e.$set(t["TANSWERS"][i],r+1,s)},expression:"question['TANSWERS'][k][j+1]"}},"b-form-datepicker",e.labels["es"]||{},!1))],1):e._e(),"selección unica"==n["TIPO"]?s("div",[s("v-select",{attrs:{options:e.getRes(n["ORDEN"],a),label:"TEXTO"},model:{value:t["TANSWERS"][i][r+1],callback:function(s){e.$set(t["TANSWERS"][i],r+1,s)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e()])})),0)}))],2):e._e(),"abierto numero"==t["TIPO_1"]?s("div",{staticClass:"inline"},[s("b-input",{on:{paste:function(e){e.preventDefault()},keypress:function(t){return e.validNumber(t)}},model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=t["UNIDAD_1"]?s("span",[e._v(e._s(t["UNIDAD_1"]))]):e._e()],1):e._e(),"abierto texto"==t["TIPO_1"]?s("div",{staticClass:"inline"},[s("b-input",{model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=t["UNIDAD_1"]?s("span",[e._v(e._s(t["UNIDAD_1"]))]):e._e()],1):e._e(),"abierto fecha"==t["TIPO_1"]?s("div",{staticClass:"inline"},[s("b-form-datepicker",e._b({attrs:{id:"datepicker-Q1-"+a,locale:"es"},model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=t["UNIDAD_1"]?s("span",[e._v(e._s(t["UNIDAD_1"]))]):e._e()],1):e._e(),"calculado"==t["TIPO_1"]?s("div",{staticClass:"inline calculado"},[s("b-input",{attrs:{disabled:!0},model:{value:e.answers[a]["dato_calc1"],callback:function(t){e.$set(e.answers[a],"dato_calc1",t)},expression:"answers[i]['dato_calc1']"}}),e._v(" "),"NA"!=t["UNIDAD_1"]?s("span",[e._v(e._s(t["UNIDAD_1"]))]):e._e()],1):e._e(),"referencia"==t["TIPO_1"]?s("div",{staticClass:"inline referencia"},[s("b-input",{attrs:{disabled:!0},model:{value:e.answers[a]["dato_ref"],callback:function(t){e.$set(e.answers[a],"dato_ref",t)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=t["UNIDAD_1"]?s("span",[e._v(e._s(t["UNIDAD_1"]))]):e._e()],1):e._e(),"selección multiple"==t["TIPO_1"]?s("div",e._l(t["RESPUESTAS"],(function(t,n){return s("b-form-checkbox",{key:n,attrs:{id:"checkbox"+a+n,name:"checkbox"+a+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[a],5)&&0==e.answers[a][t["COLUMNA"]]},model:{value:e.answers[a][t["COLUMNA"]],callback:function(s){e.$set(e.answers[a],t["COLUMNA"],s)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(t["TEXTO"])+" ")])})),1):e._e(),"selección unica"==t["TIPO_1"]?s("div",[s("v-select",{attrs:{options:t["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[a]["dato_unico"],callback:function(t){e.$set(e.answers[a],"dato_unico",t)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==t["TIPO_1"]?s("div",[s("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==t["TIPO_1"]?s("div",{staticClass:"inline2"},["NA"!=t["UNIDAD_1"]?s("span",[e._v(e._s(t["UNIDAD_1"]))]):e._e(),e._v(" "),s("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[a]["anio"],callback:function(t){e.$set(e.answers[a],"anio",t)},expression:"answers[i]['anio']"}})],1):e._e(),s("br"),"titulo"!=t["TIPO_1"]?s("br"):e._e()]):e._e(),"NA"!=t["TIPO_2"]?s("div",{staticClass:"col-c"},["grafica"==t["TIPO_2"]?s("div",[s("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==t["TIPO_2"]?s("div",{staticClass:"inline"},[s("b-input",{on:{paste:function(e){e.preventDefault()},keypress:function(t){return e.validNumber(t)}},model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=t["UNIDAD_2"]?s("span",[e._v(e._s(t["UNIDAD_2"]))]):e._e()],1):e._e(),"abierto texto"==t["TIPO_2"]?s("div",{staticClass:"inline"},[s("b-input",{model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=t["UNIDAD_2"]?s("span",[e._v(e._s(t["UNIDAD_2"]))]):e._e()],1):e._e(),"abierto fecha"==t["TIPO_2"]?s("div",{staticClass:"inline"},[s("b-form-datepicker",e._b({attrs:{id:"datepicker-Q2-"+a,locale:"es"},model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=t["UNIDAD_2"]?s("span",[e._v(e._s(t["UNIDAD_2"]))]):e._e()],1):e._e(),"calculado"==t["TIPO_2"]?s("div",{staticClass:"inline calculado"},[s("b-input",{attrs:{disabled:!0},model:{value:e.answers[a]["dato_calc2"],callback:function(t){e.$set(e.answers[a],"dato_calc2",t)},expression:"answers[i]['dato_calc2']"}}),e._v(" "),"NA"!=t["UNIDAD_2"]?s("span",[e._v(e._s(t["UNIDAD_2"]))]):e._e()],1):e._e(),"referencia"==t["TIPO_2"]?s("div",{staticClass:"inline referencia"},[s("b-input",{attrs:{disabled:!0},model:{value:e.answers[a]["dato_ref"],callback:function(t){e.$set(e.answers[a],"dato_ref",t)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=t["UNIDAD_2"]?s("span",[e._v(e._s(t["UNIDAD_2"]))]):e._e()],1):e._e(),"selección multiple"==t["TIPO_2"]?s("div",e._l(t["RESPUESTAS"],(function(t,n){return s("b-form-checkbox",{key:n,attrs:{id:"checkbox"+a+n,name:"checkbox"+a+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[a],5)&&0==e.answers[a][t["COLUMNA"]]},model:{value:e.answers[a][t["COLUMNA"]],callback:function(s){e.$set(e.answers[a],t["COLUMNA"],s)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(t["TEXTO"])+" ")])})),1):e._e(),"selección unica"==t["TIPO_2"]?s("div",[s("v-select",{attrs:{options:t["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[a]["dato_unico"],callback:function(t){e.$set(e.answers[a],"dato_unico",t)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==t["TIPO_2"]?s("div",[s("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==t["TIPO_2"]?s("div",{staticClass:"inline2"},["NA"!=t["UNIDAD_2"]?s("span",[e._v(e._s(t["UNIDAD_2"]))]):e._e(),e._v(" "),s("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[a]["anio"],callback:function(t){e.$set(e.answers[a],"anio",t)},expression:"answers[i]['anio']"}})],1):e._e(),s("br"),"titulo"!=t["TIPO_2"]?s("br"):e._e()]):e._e(),"NA"!=t["TIPO_3"]?s("div",{staticClass:"col-c"},["grafica"==t["TIPO_3"]?s("div",[s("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==t["TIPO_3"]?s("div",{staticClass:"inline"},[s("b-input",{on:{paste:function(e){e.preventDefault()},keypress:function(t){return e.validNumber(t)}},model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=t["UNIDAD_3"]?s("span",[e._v(e._s(t["UNIDAD_3"]))]):e._e()],1):e._e(),"abierto texto"==t["TIPO_3"]?s("div",{staticClass:"inline"},[s("b-input",{model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=t["UNIDAD_3"]?s("span",[e._v(e._s(t["UNIDAD_3"]))]):e._e()],1):e._e(),"abierto fecha"==t["TIPO_3"]?s("div",{staticClass:"inline"},[s("b-form-datepicker",e._b({attrs:{id:"datepicker-Q3-"+a,locale:"es"},model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=t["UNIDAD_3"]?s("span",[e._v(e._s(t["UNIDAD_3"]))]):e._e()],1):e._e(),"calculado"==t["TIPO_3"]?s("div",{staticClass:"inline calculado"},[s("b-input",{attrs:{disabled:!0},model:{value:e.answers[a]["dato_calc3"],callback:function(t){e.$set(e.answers[a],"dato_calc3",t)},expression:"answers[i]['dato_calc3']"}}),e._v(" "),"NA"!=t["UNIDAD_3"]?s("span",[e._v(e._s(t["UNIDAD_3"]))]):e._e()],1):e._e(),"referencia"==t["TIPO_3"]?s("div",{staticClass:"inline referencia"},[s("b-input",{attrs:{disabled:!0},model:{value:e.answers[a]["dato_ref"],callback:function(t){e.$set(e.answers[a],"dato_ref",t)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=t["UNIDAD_3"]?s("span",[e._v(e._s(t["UNIDAD_3"]))]):e._e()],1):e._e(),"selección multiple"==t["TIPO_3"]?s("div",e._l(t["RESPUESTAS"],(function(t,n){return s("b-form-checkbox",{key:n,attrs:{id:"checkbox"+a+n,name:"checkbox"+a+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[a],5)&&0==e.answers[a][t["COLUMNA"]]},model:{value:e.answers[a][t["COLUMNA"]],callback:function(s){e.$set(e.answers[a],t["COLUMNA"],s)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(t["TEXTO"])+" ")])})),1):e._e(),"selección unica"==t["TIPO_3"]?s("div",[s("v-select",{attrs:{options:t["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[a]["dato_unico"],callback:function(t){e.$set(e.answers[a],"dato_unico",t)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==t["TIPO_3"]?s("div",[s("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==t["TIPO_3"]?s("div",{staticClass:"inline2"},["NA"!=t["UNIDAD_3"]?s("span",[e._v(e._s(t["UNIDAD_3"]))]):e._e(),e._v(" "),s("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[a]["anio"],callback:function(t){e.$set(e.answers[a],"anio",t)},expression:"answers[i]['anio']"}})],1):e._e(),s("br"),"titulo"!=t["TIPO_3"]?s("br"):e._e()]):e._e(),"NA"!=t["TIPO_4"]?s("div",{staticClass:"col-c"},["grafica"==t["TIPO_4"]?s("div",[s("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==t["TIPO_4"]?s("div",{staticClass:"inline"},[s("b-input",{on:{paste:function(e){e.preventDefault()},keypress:function(t){return e.validNumber(t)}},model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=t["UNIDAD_4"]?s("span",[e._v(e._s(t["UNIDAD_4"]))]):e._e()],1):e._e(),"abierto texto"==t["TIPO_4"]?s("div",{staticClass:"inline"},[s("b-input",{model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=t["UNIDAD_4"]?s("span",[e._v(e._s(t["UNIDAD_4"]))]):e._e()],1):e._e(),"abierto fecha"==t["TIPO_4"]?s("div",{staticClass:"inline"},[s("b-form-datepicker",e._b({attrs:{id:"datepicker-Q4-"+a,locale:"es"},model:{value:e.answers[a]["dato_text"],callback:function(t){e.$set(e.answers[a],"dato_text",t)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=t["UNIDAD_4"]?s("span",[e._v(e._s(t["UNIDAD_4"]))]):e._e()],1):e._e(),"calculado"==t["TIPO_4"]?s("div",{staticClass:"inline calculado"},[s("b-input",{attrs:{disabled:!0},model:{value:e.answers[a]["dato_calc4"],callback:function(t){e.$set(e.answers[a],"dato_calc4",t)},expression:"answers[i]['dato_calc4']"}}),e._v(" "),"NA"!=t["UNIDAD_4"]?s("span",[e._v(e._s(t["UNIDAD_4"]))]):e._e()],1):e._e(),"referencia"==t["TIPO_4"]?s("div",{staticClass:"inline referencia"},[s("b-input",{attrs:{disabled:!0},model:{value:e.answers[a]["dato_ref"],callback:function(t){e.$set(e.answers[a],"dato_ref",t)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=t["UNIDAD_4"]?s("span",[e._v(e._s(t["UNIDAD_4"]))]):e._e()],1):e._e(),"selección multiple"==t["TIPO_4"]?s("div",e._l(t["RESPUESTAS"],(function(t,n){return s("b-form-checkbox",{key:n,attrs:{id:"checkbox"+a+n,name:"checkbox"+a+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[a],5)&&0==e.answers[a][t["COLUMNA"]]},model:{value:e.answers[a][t["COLUMNA"]],callback:function(s){e.$set(e.answers[a],t["COLUMNA"],s)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(t["TEXTO"])+" ")])})),1):e._e(),"selección unica"==t["TIPO_4"]?s("div",[s("v-select",{attrs:{options:t["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[a]["dato_unico"],callback:function(t){e.$set(e.answers[a],"dato_unico",t)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==t["TIPO_4"]?s("div",[s("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==t["TIPO_4"]?s("div",{staticClass:"inline2"},["NA"!=t["UNIDAD_4"]?s("span",[e._v(e._s(t["UNIDAD_4"]))]):e._e(),e._v(" "),s("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[a]["anio"],callback:function(t){e.$set(e.answers[a],"anio",t)},expression:"answers[i]['anio']"}})],1):e._e(),s("br"),"titulo"!=t["TIPO_4"]?s("br"):e._e()]):e._e()]):e._e()])])})),0):e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:e.questions.length-1==e.currentQuestion,expression:"questions.length-1 == currentQuestion"}],staticStyle:{"text-align":"left"}},[s("b-button",{attrs:{variant:"outline-success",size:"sm"},on:{click:e.validAnswers}},[s("i",{staticClass:"far fa-save"}),e._v(" "+e._s(e.$t("graphics.generate_consolidated")))])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.questions.length-1>e.currentQuestion,expression:"questions.length-1 > currentQuestion"}],staticStyle:{"text-align":"left"}},[s("div",{staticStyle:{color:"#28a745"}},[e._v(e._s(e.$t("graphics.cal_consolidates")))]),s("b-progress",{staticClass:"w-25",attrs:{variant:"success",value:e.currentQuestion,max:e.questions.length-1,"show-progress":"",animated:""}})],1),s("b-modal",{ref:"error",attrs:{id:"error",size:"md","ok-only":!0,title:e.$t("descriptive.valid_data")}},[s("div",{domProps:{innerHTML:e._s(this.errorMessage)}})]),s("b-modal",{ref:"edito",attrs:{id:"edito",size:"md","hide-footer":!0,title:e.$t("descriptive.edito")}},[s("b-form-group",{attrs:{id:"fieldset-1",label:"Nombre y apellido","label-for":"input-1"}},[s("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.nombre_edita,callback:function(t){e.$set(e.edit_person,"nombre_edita",t)},expression:"edit_person.nombre_edita"}})],1),s("b-form-group",{attrs:{id:"fieldset-1",label:"Correo","label-for":"input-1"}},[s("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.correo_edita,callback:function(t){e.$set(e.edit_person,"correo_edita",t)},expression:"edit_person.correo_edita"}})],1),s("b-form-group",{attrs:{id:"fieldset-1",label:"Entidad","label-for":"input-1"}},[s("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.entidad_edita,callback:function(t){e.$set(e.edit_person,"entidad_edita",t)},expression:"edit_person.entidad_edita"}})],1),s("b-form-group",{attrs:{id:"fieldset-1",label:"Numero de teléfono","label-for":"input-1"}},[s("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.numerot_edita,callback:function(t){e.$set(e.edit_person,"numerot_edita",t)},expression:"edit_person.numerot_edita"}})],1),s("b-form-group",{attrs:{id:"fieldset-1",label:"Notas","label-for":"input-1"}},[s("b-form-textarea",{attrs:{id:"textarea",rows:"3","max-rows":"6"},model:{value:e.edit_person.notas_edita,callback:function(t){e.$set(e.edit_person,"notas_edita",t)},expression:"edit_person.notas_edita"}})],1),s("b-form-group",{attrs:{id:"fieldset-1",label:"Fuentes","label-for":"input-1"}},[s("b-form-textarea",{attrs:{id:"textarea",rows:"3","max-rows":"6"},model:{value:e.edit_person.fuentes_edita,callback:function(t){e.$set(e.edit_person,"fuentes_edita",t)},expression:"edit_person.fuentes_edita"}})],1),s("b-button",{attrs:{variant:"outline-warning"},on:{click:e.saveAnswers}},[s("i",{staticClass:"far fa-save"}),e._v(" "+e._s(e.$t("spda.save")))])],1)],1)}),o=[],l=(s("a9e3"),s("ac1f"),s("1276"),s("4de4"),s("5319"),s("c740"),s("caad"),{name:"Question",props:{wizard:{type:Number,default:1},section:{type:Number,default:6}},data:function(){return{currentQuestion:0,edit_person:{nombre_edita:"",correo_edita:"",entidad_edita:"",numerot_edita:"",notas_edita:"",fuentes_edita:""},ansd:[],ques:[],errorSave:!1,errorMessage:"",references:[],questions:[],answers:[],variables:[],validationF:[],formulaAlias:[],isLoad:!1,year:null,idDes:null,cod_dane:null,yearOpt:[2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009],regN:/^[0-9]+$/,labels:{es:{labelPrevDecade:"Década anterior",labelPrevYear:"Año anterior",labelPrevMonth:"Mes anterior",labelCurrentMonth:"Mes actual",labelNextMonth:"Mes siguiente",labelNextYear:"Año siquiente",labelNextDecade:"Década siguiente",labelToday:"Hoy",labelSelected:"Fecha seleccionada",labelNoDateSelected:"Sin fecha elegida",labelCalendar:"Calendario",labelNav:"Navegación de calendario ",labelHelp:"Utilice las teclas de flecha para navegar por el calendario"}},constants_calculated:{table:"REG_TAB",sum:"SUMATORIA",simple:"CALC_SIMPLE",compose:"CALC_COMPUESTO",equal:"IGUAL"}}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.year=localStorage.getItem("year"),e.idDes=localStorage.getItem("id_territorio"),e.cod_dane=localStorage.getItem("COD_DANE"),e.$store.dispatch("year"),e.isLoad=!1,e.updateQuestions(),e.$store.dispatch("setLoading"),t.prev=7,t.next=10,window.eel.getQuestion()(s);case 10:s=t.sent,e.ques=JSON.parse(s),e.$store.dispatch("clearLoading"),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](7),console.log(t.t0),e.$store.dispatch("clearLoading");case 19:return e.$store.dispatch("setLoading"),t.prev=20,t.next=23,window.eel.getAnswerUserD(e.year,e.idDes)(a);case 23:a=t.sent,e.ansd=JSON.parse(a),null==e.ansd&&(e.ansd=[]),e.$store.dispatch("clearLoading"),t.next=33;break;case 29:t.prev=29,t.t1=t["catch"](20),console.log(t.t1),e.$store.dispatch("clearLoading");case 33:return e.$store.dispatch("setLoading"),t.prev=34,t.next=37,window.eel.getValidationFormula()(n);case 37:n=t.sent,e.validationF=JSON.parse(n),e.$store.dispatch("clearLoading"),t.next=46;break;case 42:t.prev=42,t.t2=t["catch"](34),console.log(t.t2),e.$store.dispatch("clearLoading");case 46:case"end":return t.stop()}}),t,null,[[7,15],[20,29],[34,42]])})))()},methods:{getCalculated:function(e){if(this.questions.length<1)return!1;if(this.currentQuestion=e,void 0==this.questions[e]["FORMULA"])return!1;if(this.questions[e]["FORMULA"].length<1)return!0;if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.table){var t=this.questions[e]["FORMULA"][0]["CPO"].split("&")[1];if("="==this.questions[e]["FORMULA"][0]["OP"]){var s=this.getAnswerValues(parseInt(t));return 0!=parseInt(s["dato_text"])&&null!=s["dato_text"]&&void 0!=s["dato_text"]&&""!=s["dato_text"]&&(parseInt(s["dato_text"])<11?(this.setRowsTables(e,parseFloat(s["dato_text"])),!0):parseInt(s["dato_text"])>10&&(this.setAnswerValueTable(parseInt(t)),this.setRowsTables(e,10),!0))}}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.sum){for(var a=this.questions[e]["FORMULA"][0]["CPO"].split(";"),n=[],i=0;i<a.length;i++){var r="NA";if(-1!=a[i].indexOf("&")&&(r="ID"),-1!=a[i].indexOf("!")&&(r="ALIAS"),"ID"==r){var o=a[i].split("&")[1],l=this.getAnswerValues(parseInt(o));parseFloat("____________________SUM"),void 0!=l&&(null!=l["dato_text"]&&void 0!=l["dato_text"]&&""!=l["dato_text"]?n.push(parseFloat(l["dato_text"])):null!=l["dato_calc1"]&&void 0!=l["dato_calc1"]&&""!=l["dato_calc1"]?n.push(parseFloat(l["dato_calc1"])):n.push(0))}else if("ALIAS"==r){var c=this.getAliasFormula(a[i]);void 0!=c&&n.push(this.simpleCalculated(c))}}var u=n.reduce((function(e,t){return e+t}),0);return this.setCalculatedValue(e,1,u),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.simple){var d=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,d),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.compose){var _=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,_),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.equal){var p=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,p),!0}},simpleCalculated:function(e){if(e.tipo==this.constants_calculated.sum){for(var t=e["CPO"].split(";"),s=[],a=0;a<t.length;a++){var n="NA";if(-1!=t[a].indexOf("&")&&(n="ID"),-1!=t[a].indexOf("!")&&(n="ALIAS"),"ID"==n){var i=t[a].split("&")[1],r=this.getAnswerValues(parseInt(i));parseFloat("____________________SUM"),void 0!=r&&(null!=r["dato_text"]&&void 0!=r["dato_text"]&&""!=r["dato_text"]?(console.log(parseFloat(r["dato_text"])),s.push(parseFloat(r["dato_text"]))):null!=r["dato_calc1"]&&void 0!=r["dato_calc1"]&&""!=r["dato_calc1"]?s.push(parseFloat(r["dato_calc1"])):s.push(0))}else if("ALIAS"==n){var o=this.getAliasFormula(t[a]);void 0!=o&&s.push(this.getCalculated(o))}}for(var l=0,c=0;c<s.length;c++)l+=s[c];return console.log(l),l}var u,d,_="NA",p="NA";-1!=e["CPO"].indexOf("&")&&(_="ID"),-1!=e["CPO"].indexOf("#")&&(_="VAR"),-1!=e["CPO"].indexOf("!")&&(_="ALIAS"),-1!=e["CPO"].indexOf("[")&&(_="CONST"),-1!=e["CPO"].indexOf("?")&&(_="REF"),-1!=e["CPO2"].indexOf("&")&&(p="ID"),-1!=e["CPO2"].indexOf("#")&&(p="VAR"),-1!=e["CPO2"].indexOf("!")&&(p="ALIAS"),-1!=e["CPO2"].indexOf("[")&&(p="CONST"),-1!=e["CPO2"].indexOf("?")&&(p="REF");var v={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"*":function(e,t){return e*t},IGUAL:function(e,t){return t=0,e+t}};if("ID"==_){var h=e["CPO"].split("&")[1],f=this.getAnswerValues(parseInt(h)),w=this.getQuestions(parseInt(h));void 0!=w&&("abierto numero"==w["TIPO_1"]?void 0!=f&&(u=null!=f["dato_text"]&&void 0!=f["dato_text"]&&""!=f["dato_text"]?parseFloat(f["dato_text"]):0):"calculado"==w["TIPO_1"]&&void 0!=f&&(u=null!=f["dato_calc1"]&&void 0!=f["dato_calc1"]&&""!=f["dato_calc1"]?parseFloat(f["dato_calc1"]):0))}else if("VAR"==_){var A=this.variables.filter((function(t){return t["NOMBRE"]==e["CPO"]}))[0];u=A["VALOR"]}else if("ALIAS"==_){var T=this.getAliasFormula(e["CPO"]);void 0!=T&&(u=this.simpleCalculated(T))}else if("CONST"==_){var b=e["CPO"].split("[")[1],O=b.split("]")[0];u=parseFloat(O.replace(",","."))}else if("REF"==_){var N=e["CPO"].split("?")[1],S=this.getRefValue(N);void 0!=S&&(u=parseFloat(S["DATA"]))}if("ID"==p){var I=e["CPO2"].split("&")[1],P=this.getAnswerValues(parseInt(I)),g=this.getQuestions(parseInt(I));void 0!=g&&("abierto numero"==g["TIPO_1"]?void 0!=P&&(d=null!=P["dato_text"]&&void 0!=P["dato_text"]&&""!=P["dato_text"]?parseFloat(P["dato_text"]):0):"calculado"==g["TIPO_1"]&&void 0!=P&&(d=null!=P["dato_calc1"]&&void 0!=P["dato_calc1"]&&""!=P["dato_calc1"]?parseFloat(P["dato_calc1"]):0))}else if("VAR"==p){var m=this.variables.filter((function(t){return t["NOMBRE"]==e["CPO2"]}))[0];d=m["VALOR"]}else if("ALIAS"==p){var E=this.getAliasFormula(e["CPO2"]);void 0!=E&&(d=this.simpleCalculated(E))}else if("CONST"==p){var x=e["CPO2"].split("[")[1],U=x.split("]")[0];d=parseFloat(U.replace(",","."))}else if("REF"==p){var q=e["CPO2"].split("?")[1],R=this.getRefValue(q);void 0!=R&&(d=parseFloat(R["DATA"]))}var D=0;try{D=v[e["OP"]](u,d)}catch(C){console.log(e["OP"]),console.log(u),console.log(d),console.log(e)}return D},getRefValue:function(e){return this.references.filter((function(t){return t["ID_REFERENCIA"]==e}))[0]},getAliasFormula:function(e){return this.formulaAlias.filter((function(t){return t.alias==e}))[0]},setCalculatedValue:function(e,t,s){this.answers[e]["dato_calc"+t]=null==s||isNaN(s)?0:s},getCalculatedValue:function(e,t){return this.answers[e]["dato_calc"+t]},getQuestionsSec:function(e){var t=this.questions.filter((function(t){return t["ID_PREGUNTA"]==parseInt(e)}))[0];return t},getAnswerValuesSec:function(e){var t=this.answers.filter((function(t){return t.id_pregunta==parseInt(e)}))[0];return t},getQuestions:function(e){var t=this.questions.filter((function(t){return t["ID_PREGUNTA"]==parseInt(e)}))[0];return void 0==t?(t=this.ques.filter((function(t){return t["ID_PREGUNTA"]==parseInt(e)}))[0],t):t},getAnswerValues:function(e){var t=this.answers.filter((function(t){return t.id_pregunta==parseInt(e)}))[0];return void 0==t?(t=this.ansd.filter((function(t){return t.id_pregunta==parseInt(e)}))[0],t):t},setAnswerValueTable:function(e){var t=this.answers.findIndex((function(t){return t.id_pregunta==parseInt(e)}));this.answers[t]["dato_text"]="10"},setRowsTables:function(e,t){var s=this.questions[e]["TANSWERS"].length,a=t-s;if(a<0)for(var n=0;n<-1*a;n++)this.removeTableAnswer(e);if(a>0)for(var i=0;i<a;i++)this.addTableAnswer(e)},addTableAnswer:function(e){this.questions[e]["TANSWERS"].push({1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""}),this.$forceUpdate()},removeTableAnswer:function(e){this.questions[e]["TANSWERS"].pop(),this.$forceUpdate()},getRes:function(e,t){return this.questions[t]["RESPUESTAS"].filter((function(t){return parseInt(t["COLUMNA"])==parseInt(e)}))},ifActive:function(e,t){var s=0;return 1==e["A"]&&s++,1==e["B"]&&s++,1==e["C"]&&s++,1==e["D"]&&s++,1==e["E"]&&s++,1==e["F"]&&s++,1==e["G"]&&s++,1==e["H"]&&s++,1==e["I"]&&s++,1==e["J"]&&s++,t<=s},updateQuestions:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r,o,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoad=!1,e.answers=[],e.$store.dispatch("setLoading"),t.prev=3,t.next=6,window.eel.getSPDAQuestionsC(e.section)(s);case 6:for(s=t.sent,e.questions=JSON.parse(s),a=function(t){setTimeout(Object(i["a"])(regeneratorRuntime.mark((function s(){var a,n,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,window.eel.getSPDAAnswers(e.questions[t]["ID_PREGUNTA"])(a);case 3:a=s.sent,void 0!=a&&a.length>0?(e.questions[t]["RESPUESTAS"]=JSON.parse(a),e.isLoad=!0):(e.questions[t]["RESPUESTAS"]=[],e.isLoad=!1),s.next=12;break;case 7:s.prev=7,s.t0=s["catch"](0),console.log(s.t0),console.log("in index "+t),e.questions[t]["RESPUESTAS"]=[];case 12:return e.answers.push({id_pregunta:e.questions[t]["ID_PREGUNTA"],A:0,B:0,C:0,D:0,E:0,F:0,G:0,H:0,I:0,J:0,dato_ref:0,dato_calc1:0,dato_calc2:0,dato_calc3:0,dato_calc4:0,anio:"",dato_text:"",dato_unico:"",nombre_edita:"",correo_edita:"",entidad_edita:"",numerot_edita:"",notas_edita:"",fuentes_edita:"",puntaje:0,anio_actual:e.year,id_territorio:e.idDes}),"año editable"!=e.questions[t]["TIPO_4"]&&"año editable"!=e.questions[t]["TIPO_3"]||(e.answers[t].anio=2019),n=0,n=""!=e.answers[t].anio?e.answers[t].anio:e.answers[t].anio_actual,s.prev=16,s.next=19,window.eel.getReferencesQuestion(e.questions[t]["ID_PREGUNTA"],n,e.cod_dane)(i);case 19:i=s.sent,void 0!=i?(r=JSON.parse(i),r.length>0?(e.questions[t]["REFERENCE"]=r[0],e.answers[t].dato_ref=e.questions[t]["REFERENCE"]["DATA"]):e.questions[t]["REFERENCE"]=[]):e.questions[t]["REFERENCE"]=[],s.next=28;break;case 23:s.prev=23,s.t1=s["catch"](16),console.log(s.t1),console.log("in index "+t),e.questions[t]["REFERENCE"];case 28:case"end":return s.stop()}}),s,null,[[0,7],[16,23]])}))),500),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,window.eel.getTables(e.questions[t]["ID_PREGUNTA"])(a);case 3:a=s.sent,void 0!=a&&a.length>0?(e.questions[t]["TABLES"]=JSON.parse(a),e.questions[t]["TANSWERS"]=[]):(e.questions[t]["TABLES"]=[],e.questions[t]["TANSWERS"]=[]),s.next=13;break;case 7:s.prev=7,s.t0=s["catch"](0),console.log(s.t0),console.log("in index "+t),e.questions[t]["TABLES"]=[],e.questions[t]["TANSWERS"]=[];case 13:case"end":return s.stop()}}),s,null,[[0,7]])}))),500),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,window.eel.getFormula(e.questions[t]["ID_PREGUNTA"])(a);case 3:a=s.sent,void 0!=a&&a.length>0?e.questions[t]["FORMULA"]=JSON.parse(a):e.questions[t]["FORMULA"]=[],s.next=12;break;case 7:s.prev=7,s.t0=s["catch"](0),console.log(s.t0),console.log("in index "+t),e.questions[t]["FORMULA"]=[];case 12:case"end":return s.stop()}}),s,null,[[0,7]])}))),500),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,window.eel.getPoints(e.questions[t]["ID_PREGUNTA"])(a);case 3:a=s.sent,void 0!=a&&a.length>0?e.questions[t]["PUNTOS"]=JSON.parse(a):e.questions[t]["PUNTOS"]=[],s.next=12;break;case 7:s.prev=7,s.t0=s["catch"](0),console.log(s.t0),console.log("in index "+t),e.questions[t]["PUNTOS"]=[];case 12:case"end":return s.stop()}}),s,null,[[0,7]])}))),500),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function s(){var a,n,i,r,o,l,c,u,d,_,p,v,h,f;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,window.eel.getUserAnswers(e.questions[t]["ID_PREGUNTA"],e.year,e.idDes)(a);case 3:if(a=s.sent,void 0!=a&&void 0!=e.answers[t]&&a.length>2){if(n=JSON.parse(a),e.answers[t].id_pregunta=n[0].id_pregunta,e.answers[t].A=n[0].A,e.answers[t].B=n[0].B,e.answers[t].C=n[0].C,e.answers[t].D=n[0].D,e.answers[t].E=n[0].E,e.answers[t].F=n[0].F,e.answers[t].G=n[0].G,e.answers[t].H=n[0].H,e.answers[t].I=n[0].I,e.answers[t].J=n[0].J,e.answers[t].dato_ref=n[0].dato_ref,e.answers[t].dato_calc1=n[0].dato_calc1,e.answers[t].dato_calc2=n[0].dato_calc2,e.answers[t].dato_calc3=n[0].dato_calc3,e.answers[t].dato_calc4=n[0].dato_calc4,e.answers[t].anio=n[0].anio,e.answers[t].dato_text=n[0].dato_text,e.answers[t].dato_unico="",e.answers[t].nombre_edita=n[0].nombre_edita,e.answers[t].correo_edita=n[0].correo_edita,e.answers[t].entidad_edita=n[0].entidad_edita,e.answers[t].numerot_edita=n[0].numerot_edita,e.answers[t].notas_edita=n[0].notas_edita,e.answers[t].fuentes_edita=n[0].fuentes_edita,e.answers[t].puntaje=""==n[0].puntaje?0:n[0].puntaje,e.answers[t].anio_actual=n[0].anio_actual,e.answers[t].id_territorio=n[0].id_territorio,"selección unica"==e.questions[t]["TIPO_1"]||"selección unica"==e.questions[t]["TIPO_2"]||"selección unica"==e.questions[t]["TIPO_3"]||"selección unica"==e.questions[t]["TIPO_4"])try{1==e.answers[t]["A"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][0]),1==e.answers[t]["B"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][1]),1==e.answers[t]["C"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][2]),1==e.answers[t]["D"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][3]),1==e.answers[t]["E"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][4]),1==e.answers[t]["F"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][5]),1==e.answers[t]["G"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][6]),1==e.answers[t]["H"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][7]),1==e.answers[t]["I"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][8]),1==e.answers[t]["J"]&&(e.answers[t]["dato_unico"]=e.questions[t]["RESPUESTAS"][9])}catch(w){console.log("fail load - "+w)}if("tabla"==e.questions[t]["TIPO_1"]||"tabla"==e.questions[t]["TIPO_2"]||"tabla"==e.questions[t]["TIPO_3"]||"tabla"==e.questions[t]["TIPO_4"])for(e.questions[t]["TANSWERS"]=[],i=[],r=[],o=[],l=[],c=[],u=[],d=[],_=[],p=[],v=[],i=e.answers[t]["A"].split(";"),r=e.answers[t]["B"].split(";"),o=e.answers[t]["C"].split(";"),l=e.answers[t]["D"].split(";"),c=e.answers[t]["E"].split(";"),u=e.answers[t]["F"].split(";"),d=e.answers[t]["G"].split(";"),_=e.answers[t]["H"].split(";"),p=e.answers[t]["I"].split(";"),v=e.answers[t]["J"].split(";"),h=function(s){e.questions[t]["TANSWERS"].push({1:void 0==e.questions[t]["TABLES"][0]?"":"selección unica"==e.questions[t]["TABLES"][0]["TIPO"]?void 0!=i[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"1"==e["COLUMNA"]&&e["TEXTO"]==i[s]}))[0]:"":void 0!=i[s]&&i[s].length>0?i[s]:"",2:void 0==e.questions[t]["TABLES"][1]?"":"selección unica"==e.questions[t]["TABLES"][1]["TIPO"]?void 0!=r[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"2"==e["COLUMNA"]&&e["TEXTO"]==r[s]}))[0]:"":void 0!=r[s]&&r[s].length>0?r[s]:"",3:void 0==e.questions[t]["TABLES"][2]?"":"selección unica"==e.questions[t]["TABLES"][2]["TIPO"]?void 0!=o[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"3"==e["COLUMNA"]&&e["TEXTO"]==o[s]}))[0]:"":void 0!=o[s]&&o[s].length>0?o[s]:"",4:void 0==e.questions[t]["TABLES"][3]?"":"selección unica"==e.questions[t]["TABLES"][3]["TIPO"]?void 0!=l[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"4"==e["COLUMNA"]&&e["TEXTO"]==l[s]}))[0]:"":void 0!=l[s]&&l[s].length>0?l[s]:"",5:void 0==e.questions[t]["TABLES"][4]?"":"selección unica"==e.questions[t]["TABLES"][4]["TIPO"]?void 0!=c[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"5"==e["COLUMNA"]&&e["TEXTO"]==c[s]}))[0]:"":void 0!=c[s]&&c[s].length>0?c[s]:"",6:void 0==e.questions[t]["TABLES"][5]?"":"selección unica"==e.questions[t]["TABLES"][5]["TIPO"]?void 0!=u[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"6"==e["COLUMNA"]&&e["TEXTO"]==u[s]}))[0]:"":void 0!=u[s]&&u[s].length>0?u[s]:"",7:void 0==e.questions[t]["TABLES"][6]?"":"selección unica"==e.questions[t]["TABLES"][6]["TIPO"]?void 0!=d[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"7"==e["COLUMNA"]&&e["TEXTO"]==d[s]}))[0]:"":void 0!=d[s]&&d[s].length>0?d[s]:"",8:void 0==e.questions[t]["TABLES"][7]?"":"selección unica"==e.questions[t]["TABLES"][7]["TIPO"]?void 0!=_[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"8"==e["COLUMNA"]&&e["TEXTO"]==_[s]}))[0]:"":void 0!=_[s]&&_[s].length>0?_[s]:"",9:void 0==e.questions[t]["TABLES"][8]?"":"selección unica"==e.questions[t]["TABLES"][8]["TIPO"]?void 0!=p[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"9"==e["COLUMNA"]&&e["TEXTO"]==p[s]}))[0]:"":void 0!=p[s]&&p[s].length>0?p[s]:"",10:void 0==e.questions[t]["TABLES"][9]?"":"selección unica"==e.questions[t]["TABLES"][9]["TIPO"]?void 0!=v[s]?e.questions[t]["RESPUESTAS"].filter((function(e){return"10"==e["COLUMNA"]&&e["TEXTO"]==v[s]}))[0]:"":void 0!=v[s]&&v[s].length>0?v[s]:""})},f=0;f<i.length-1;f++)h(f)}s.next=11;break;case 7:s.prev=7,s.t0=s["catch"](0),console.log(s.t0),console.log("in index "+t);case 11:case"end":return s.stop()}}),s,null,[[0,7]])}))),500)},n=0;n<e.questions.length;n++)a(n);e.isLoad=!0,e.$store.dispatch("clearLoading"),t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](3),console.log(t.t0),e.isLoad=!0,e.$store.dispatch("clearLoading");case 19:return e.$store.dispatch("setLoading"),t.prev=20,t.next=23,window.eel.getVariables()(r);case 23:r=t.sent,e.variables=JSON.parse(r),e.$store.dispatch("clearLoading"),t.next=33;break;case 28:t.prev=28,t.t1=t["catch"](20),console.log(t.t1),e.isLoad=!0,e.$store.dispatch("clearLoading");case 33:return e.$store.dispatch("setLoading"),t.prev=34,t.next=37,window.eel.getFormulaByAlias()(o);case 37:o=t.sent,e.formulaAlias=JSON.parse(o),e.$store.dispatch("clearLoading"),t.next=46;break;case 42:t.prev=42,t.t2=t["catch"](34),console.log(t.t2),e.$store.dispatch("clearLoading");case 46:return e.$store.dispatch("setLoading"),t.prev=47,t.next=50,window.eel.getReferences(e.year,e.cod_dane)(l);case 50:l=t.sent,e.references=JSON.parse(l),e.$store.dispatch("clearLoading"),t.next=59;break;case 55:t.prev=55,t.t3=t["catch"](47),console.log(t.t3),e.$store.dispatch("clearLoading");case 59:for(c=function(t){setTimeout(Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.getCalculated(t);case 1:case"end":return s.stop()}}),s)}))),1500)},u=0;u<e.questions.length;u++)c(u);case 61:case"end":return t.stop()}}),t,null,[[3,14],[20,28],[34,42],[47,55]])})))()},validAnswers:function(){this.error=!1,this.errorMessage="Verifica las preguntas: <br>";for(var e=0;e<this.questions.length;e++){if("abierto fecha"!=this.questions[e]["TIPO_1"]&&"abierto texto"!=this.questions[e]["TIPO_1"]&&"abierto numero"!=this.questions[e]["TIPO_1"]&&"abierto fecha"!=this.questions[e]["TIPO_2"]&&"abierto texto"!=this.questions[e]["TIPO_2"]&&"abierto numero"!=this.questions[e]["TIPO_2"]&&"abierto fecha"!=this.questions[e]["TIPO_3"]&&"abierto texto"!=this.questions[e]["TIPO_3"]&&"abierto numero"!=this.questions[e]["TIPO_3"]&&"abierto fecha"!=this.questions[e]["TIPO_4"]&&"abierto texto"!=this.questions[e]["TIPO_4"]&&"abierto numero"!=this.questions[e]["TIPO_4"]||""!=this.answers[e]["dato_text"]&&null!=this.answers[e]["dato_text"]||(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"),"selección multiple"==this.questions[e]["TIPO_1"]||"selección multiple"==this.questions[e]["TIPO_2"]||"selección multiple"==this.questions[e]["TIPO_3"]||"selección multiple"==this.questions[e]["TIPO_4"]){var t=0;1==this.answers[e]["A"]&&t++,1==this.answers[e]["B"]&&t++,1==this.answers[e]["C"]&&t++,1==this.answers[e]["D"]&&t++,1==this.answers[e]["E"]&&t++,1==this.answers[e]["F"]&&t++,1==this.answers[e]["G"]&&t++,1==this.answers[e]["H"]&&t++,1==this.answers[e]["I"]&&t++,1==this.answers[e]["J"]&&t++,0==t&&(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>")}if("selección unica"!=this.questions[e]["TIPO_1"]&&"selección unica"!=this.questions[e]["TIPO_2"]&&"selección unica"!=this.questions[e]["TIPO_3"]&&"selección unica"!=this.questions[e]["TIPO_4"]||(void 0==this.answers[e]["dato_unico"]["TEXTO"]?(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"):(this.answers[e]["A"]=0,this.answers[e]["B"]=0,this.answers[e]["C"]=0,this.answers[e]["D"]=0,this.answers[e]["E"]=0,this.answers[e]["F"]=0,this.answers[e]["G"]=0,this.answers[e]["H"]=0,this.answers[e]["I"]=0,this.answers[e]["J"]=0,this.answers[e][this.answers[e]["dato_unico"]["COLUMNA"]]=1)),"año editable"!=this.questions[e]["TIPO_1"]&&"año editable"!=this.questions[e]["TIPO_2"]&&"año editable"!=this.questions[e]["TIPO_3"]&&"año editable"!=this.questions[e]["TIPO_4"]||""!=this.answers[e]["anio"]&&null!=this.answers[e]["anio"]||(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"),"tabla"==this.questions[e]["TIPO_1"]||"tabla"==this.questions[e]["TIPO_2"]||"tabla"==this.questions[e]["TIPO_3"]||"tabla"==this.questions[e]["TIPO_4"]){this.answers[e]["A"]="",this.answers[e]["B"]="",this.answers[e]["C"]="",this.answers[e]["D"]="",this.answers[e]["E"]="",this.answers[e]["F"]="",this.answers[e]["G"]="",this.answers[e]["H"]="",this.answers[e]["I"]="",this.answers[e]["J"]="";for(var s=0;s<this.questions[e]["TANSWERS"].length;s++)for(var a=0;a<this.questions[e]["TABLES"].length;a++){if("abierto numero"==this.questions[e]["TABLES"][a]["TIPO"]||"abierto texto"==this.questions[e]["TABLES"][a]["TIPO"]||"abierto fecha"==this.questions[e]["TABLES"][a]["TIPO"])if(""==this.questions[e]["TANSWERS"][s][a+1]||null==this.questions[e]["TANSWERS"][s][a+1])this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>";else{var n=String.fromCharCode(64+a+1);this.answers[e][n]+=this.questions[e]["TANSWERS"][s][a+1]+";"}if("selección unica"==this.questions[e]["TABLES"][a]["TIPO"])if(void 0==this.questions[e]["TANSWERS"][s][a+1])this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>";else{var i=String.fromCharCode(64+a+1);this.answers[e][i]+=this.questions[e]["TANSWERS"][s][a+1]["TEXTO"]+";"}}}for(var r={"=":function(e,t){return e==t},">":function(e,t){return e>t},"<":function(e,t){return e<t},">=":function(e,t){return e>=t},"<=":function(e,t){return e<=t}},o=0;o<this.questions[e]["PUNTOS"].length;o++){var l=this.questions[e]["PUNTOS"][o]["OPERADOR_1"],c=this.questions[e]["PUNTOS"][o]["OPERADOR_2"],u=this.questions[e]["PUNTOS"][o]["VALOR_1"],d=this.questions[e]["PUNTOS"][o]["VALOR_2"],_=this.questions[e]["PUNTOS"][o]["TIPO"],p=this.questions[e]["PUNTOS"][o]["PUNTOS"];if("MULTIPLE"==_){var v=u.toUpperCase(),h=d.toUpperCase();"NA"!=v&&(v=v.split(";")),"NA"!=h&&(h=h.split(";"));var f=[];if(console.log(l),console.log(this.questions[e]["PUNTOS"][o]["ID_PREGUNTA"]),console.log(v),console.log("____________________________________________"),"="==l){for(var w=0;w<v.length;w++)1==this.answers[e][v[w]]?this.answers[e].puntaje=p:this.answers[e].puntaje=0;0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("OR"==l){for(var A=0;A<v.length;A++)1==this.answers[e][v[A]]?f.push(!0):f.push(!1);f.includes(!0)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("AND"==l){var T=0;1==this.answers[e]["A"]&&T++,1==this.answers[e]["B"]&&T++,1==this.answers[e]["C"]&&T++,1==this.answers[e]["D"]&&T++,1==this.answers[e]["E"]&&T++,1==this.answers[e]["F"]&&T++,1==this.answers[e]["G"]&&T++,1==this.answers[e]["H"]&&T++,1==this.answers[e]["I"]&&T++,1==this.answers[e]["J"]&&T++;for(var b=0;b<v.length;b++)1==this.answers[e][v[b]]?f.push(!0):f.push(!1);f.every((function(e){return 1==e}))&&T==v.length?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}else if("UNICA"==_){var O=u.toUpperCase();"="==l&&(1==this.answers[e][O]?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length))}else if("FECHA"==_){var N="NA"!=u?parseFloat(u.replace(",",".")):"NA",S=new Date(this.answers[e]["dato_text"]),I=this.year-S.getFullYear();r[l](I,N)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("PORCENTAJE"==_){var P="NA"!=u?parseFloat(u.replace(",",".")):"NA",g="NA"!=d?parseFloat(d.replace(",",".")):"NA";if("NA"==c)r[l](this.answers[e]["dato_text"],P)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length);else{var m=null,E=null;m=r[l](this.answers[e]["dato_text"],P),E=r[c](this.answers[e]["dato_text"],g),this.answers[e].puntaje=m&&E?p:0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}else if("VALOR"==_){var x="NA"!=u?parseFloat(u.replace(",",".")):"NA",U="NA"!=d?parseFloat(d.replace(",",".")):"NA";if("NA"==c)r[l](this.answers[e]["dato_text"],x)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length);else{var q=null,R=null;q=r[l](this.answers[e]["dato_text"],x),R=r[c](this.answers[e]["dato_text"],U),this.answers[e].puntaje=q&&R?p:0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}}}for(var D=0;D<this.validationF.length;D++){var C=void 0,L=void 0,k=this.validationF[D]["CPO"].split("&")[1],$=this.getAnswerValuesSec(parseInt(k)),F=this.getQuestionsSec(parseInt(k)),M=this.validationF[D]["CPO2"].split("&")[1],y=this.getAnswerValuesSec(parseInt(M)),j=this.getQuestionsSec(parseInt(M));void 0!=F&&("abierto numero"==F["TIPO_1"]?void 0!=$&&(C=null!=$["dato_text"]||void 0!=$["dato_text"]||""!=$["dato_text"]?parseInt($["dato_text"]):null):"calculado"==F["TIPO_1"]&&void 0!=$&&(C=null!=$["dato_calc1"]||void 0!=$["dato_calc1"]||""!=$["dato_calc1"]?parseFloat($["dato_calc1"]):null)),void 0!=j&&("abierto numero"==j["TIPO_1"]?void 0!=y&&(L=null!=y["dato_text"]||void 0!=y["dato_text"]||""!=y["dato_text"]?parseInt(y["dato_text"]):null):"calculado"==j["TIPO_1"]&&void 0!=y&&(L=null!=y["dato_calc1"]||void 0!=y["dato_calc1"]||""!=y["dato_calc1"]?parseFloat(y["dato_calc1"]):null)),null!=C&&null!=L&&C!=L&&(this.error=!0,this.errorMessage+="<b>"+F["COD_PREGUNTA"]+"</b> "+F["PREGUNTA"]+", no es igual a: <b>"+j["COD_PREGUNTA"]+"</b> "+j["PREGUNTA"]+"<br>")}this.error?this.$refs["error"].show():this.saveAnswers()},saveAnswers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s=0;s<e.answers.length;s++)e.answers[s].nombre_edita=e.edit_person.nombre_edita,e.answers[s].correo_edita=e.edit_person.correo_edita,e.answers[s].entidad_edita=e.edit_person.entidad_edita,e.answers[s].numerot_edita=e.edit_person.numerot_edita,e.answers[s].notas_edita=e.edit_person.notas_edita,e.answers[s].fuentes_edita=e.edit_person.fuentes_edita;for(a=JSON.stringify(e.answers),n=JSON.parse(a),i=0;i<n.length;i++)delete n[i].dato_unico;return e.$store.dispatch("setLoading"),t.prev=5,t.next=8,window.eel.saveAnswers(JSON.stringify(n))(r);case 8:r=t.sent,e.makeToast("success",e.$t("descriptive.data_save")),e.$store.dispatch("clearLoading"),e.$refs["edito"].hide(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](5),e.$store.dispatch("clearLoading"),console.log("Error");case 18:case"end":return t.stop()}}),t,null,[[5,14]])})))()},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(t,{title:t,variant:e,solid:!0,autoHideDelay:2e3,toaster:"b-toaster-bottom-right"})},validNumber:function(e){if(0===e.charCode||this.regN.test(String.fromCharCode(e.charCode)))return!0;e.preventDefault()}}}),c=l,u=(s("5f0b"),s("45f4"),s("2877")),d=Object(u["a"])(c,r,o,!1,null,"5945a0cd",null),_=d.exports,p={name:"Graphs",components:{question:_},data:function(){return{completed:!1,year:null,idDes:null}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Here"),e.year=localStorage.getItem("year"),e.idDes=localStorage.getItem("id_territorio"),t.prev=3,t.next=6,window.eel.get_consolidated_answers(e.year,e.idDes)(s);case 6:s=t.sent,void 0!=s&&(e.completed=s),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}},v=p,h=Object(u["a"])(v,a,n,!1,null,"4d224c09",null);t["default"]=h.exports},caad:function(e,t,s){"use strict";var a=s("23e7"),n=s("4d64").includes,i=s("44d2");a({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},ddbe:function(e,t,s){}}]);
//# sourceMappingURL=chunk-a089a3e6.1616edb2.js.map