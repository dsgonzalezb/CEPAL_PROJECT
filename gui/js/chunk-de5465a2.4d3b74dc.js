(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de5465a2"],{"1f97":function(e,s,t){"use strict";var a=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[0==e.answers.length&&0==e.isLoad?a("div",{staticClass:"questions"},[a("img",{attrs:{src:t("754c"),alt:"alt"}})]):e._e(),e.answers.length>0&&e.isLoad?a("div",{staticClass:"questions",on:{mouseover:function(s){return e.$forceUpdate()}}},e._l(e.questions,(function(s,t){return a("div",{key:t,staticClass:"question"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==s["VISIBLE"]&&e.getCalculated(t),expression:"question['VISIBLE'] == 1 && getCalculated(i)"}]},[a("b",[e._v(e._s(s["COD_PREGUNTA"])+" - "+e._s(s["ID_PREGUNTA"])+" ")]),e._v(" "),"titulo"==s["TIPO_1"]?a("b",[e._v(e._s(s["PREGUNTA"]))]):a("span",[e._v(e._s(s["PREGUNTA"]))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"NA"!=s["AYUDA"],expression:"question['AYUDA'] != 'NA'"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"help",attrs:{title:s["AYUDA"]}},[a("i",{staticClass:"fas fa-question-circle"})]),void 0!=e.answers[t]?a("div",{staticClass:"cols-c"},["NA"!=s["TIPO_1"]?a("div",{staticClass:"col-c"},["grafica"==s["TIPO_1"]?a("div",[a("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"tabla"==s["TIPO_1"]&&void 0!=s["TABLES"]&&void 0!=s["TANSWERS"]?a("div",[a("div",{staticClass:"header"},e._l(s["TABLES"],(function(s,t){return a("div",{key:t,staticClass:"item-h"},[e._v(" "+e._s(s["COLUMNA"])+" ")])})),0),e._l(s["TANSWERS"],(function(n,i){return a("div",{key:i+s["TANSWERS"].length,staticClass:"body"},e._l(s["TABLES"],(function(n,r){return a("div",{key:r,staticClass:"item"},["abierto numero"==n["TIPO"]?a("div",[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:s["TANSWERS"][i][r+1],callback:function(t){e.$set(s["TANSWERS"][i],r+1,t)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e(),"abierto texto"==n["TIPO"]?a("div",[a("b-input",{model:{value:s["TANSWERS"][i][r+1],callback:function(t){e.$set(s["TANSWERS"][i],r+1,t)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e(),"abierto fecha"==n["TIPO"]?a("div",[a("b-form-datepicker",e._b({attrs:{id:"datepicker-T-"+i+"-"+r,locale:"es"},model:{value:s["TANSWERS"][i][r+1],callback:function(t){e.$set(s["TANSWERS"][i],r+1,t)},expression:"question['TANSWERS'][k][j+1]"}},"b-form-datepicker",e.labels["es"]||{},!1))],1):e._e(),"selección unica"==n["TIPO"]?a("div",[a("v-select",{attrs:{options:e.getRes(n["ORDEN"],t),label:"TEXTO"},model:{value:s["TANSWERS"][i][r+1],callback:function(t){e.$set(s["TANSWERS"][i],r+1,t)},expression:"question['TANSWERS'][k][j+1]"}})],1):e._e()])})),0)}))],2):e._e(),"abierto numero"==s["TIPO_1"]?a("div",{staticClass:"inline"},[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"abierto texto"==s["TIPO_1"]?a("div",{staticClass:"inline"},[a("b-input",{model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"abierto fecha"==s["TIPO_1"]?a("div",{staticClass:"inline"},[a("b-form-datepicker",e._b({attrs:{id:"datepicker-Q1-"+t,locale:"es"},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"calculado"==s["TIPO_1"]?a("div",{staticClass:"inline calculado"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_calc1"],callback:function(s){e.$set(e.answers[t],"dato_calc1",s)},expression:"answers[i]['dato_calc1']"}}),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"referencia"==s["TIPO_1"]?a("div",{staticClass:"inline referencia"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_ref"],callback:function(s){e.$set(e.answers[t],"dato_ref",s)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e()],1):e._e(),"selección multiple"==s["TIPO_1"]?a("div",e._l(s["RESPUESTAS"],(function(s,n){return a("b-form-checkbox",{key:n,attrs:{id:"checkbox"+t+n,name:"checkbox"+t+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[t],5)&&0==e.answers[t][s["COLUMNA"]]},model:{value:e.answers[t][s["COLUMNA"]],callback:function(a){e.$set(e.answers[t],s["COLUMNA"],a)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(s["TEXTO"])+" ")])})),1):e._e(),"selección unica"==s["TIPO_1"]?a("div",[a("v-select",{attrs:{options:s["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[t]["dato_unico"],callback:function(s){e.$set(e.answers[t],"dato_unico",s)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==s["TIPO_1"]?a("div",[a("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==s["TIPO_1"]?a("div",{staticClass:"inline2"},["NA"!=s["UNIDAD_1"]?a("span",[e._v(e._s(s["UNIDAD_1"]))]):e._e(),e._v(" "),a("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[t]["anio"],callback:function(s){e.$set(e.answers[t],"anio",s)},expression:"answers[i]['anio']"}})],1):e._e(),a("br"),"titulo"!=s["TIPO_1"]?a("br"):e._e()]):e._e(),"NA"!=s["TIPO_2"]?a("div",{staticClass:"col-c"},["grafica"==s["TIPO_2"]?a("div",[a("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==s["TIPO_2"]?a("div",{staticClass:"inline"},[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"abierto texto"==s["TIPO_2"]?a("div",{staticClass:"inline"},[a("b-input",{model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"abierto fecha"==s["TIPO_2"]?a("div",{staticClass:"inline"},[a("b-form-datepicker",e._b({attrs:{id:"datepicker-Q2-"+t,locale:"es"},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"calculado"==s["TIPO_2"]?a("div",{staticClass:"inline calculado"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_calc2"],callback:function(s){e.$set(e.answers[t],"dato_calc2",s)},expression:"answers[i]['dato_calc2']"}}),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"referencia"==s["TIPO_2"]?a("div",{staticClass:"inline referencia"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_ref"],callback:function(s){e.$set(e.answers[t],"dato_ref",s)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e()],1):e._e(),"selección multiple"==s["TIPO_2"]?a("div",e._l(s["RESPUESTAS"],(function(s,n){return a("b-form-checkbox",{key:n,attrs:{id:"checkbox"+t+n,name:"checkbox"+t+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[t],5)&&0==e.answers[t][s["COLUMNA"]]},model:{value:e.answers[t][s["COLUMNA"]],callback:function(a){e.$set(e.answers[t],s["COLUMNA"],a)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(s["TEXTO"])+" ")])})),1):e._e(),"selección unica"==s["TIPO_2"]?a("div",[a("v-select",{attrs:{options:s["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[t]["dato_unico"],callback:function(s){e.$set(e.answers[t],"dato_unico",s)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==s["TIPO_2"]?a("div",[a("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==s["TIPO_2"]?a("div",{staticClass:"inline2"},["NA"!=s["UNIDAD_2"]?a("span",[e._v(e._s(s["UNIDAD_2"]))]):e._e(),e._v(" "),a("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[t]["anio"],callback:function(s){e.$set(e.answers[t],"anio",s)},expression:"answers[i]['anio']"}})],1):e._e(),a("br"),"titulo"!=s["TIPO_2"]?a("br"):e._e()]):e._e(),"NA"!=s["TIPO_3"]?a("div",{staticClass:"col-c"},["grafica"==s["TIPO_3"]?a("div",[a("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==s["TIPO_3"]?a("div",{staticClass:"inline"},[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"abierto texto"==s["TIPO_3"]?a("div",{staticClass:"inline"},[a("b-input",{model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"abierto fecha"==s["TIPO_3"]?a("div",{staticClass:"inline"},[a("b-form-datepicker",e._b({attrs:{id:"datepicker-Q3-"+t,locale:"es"},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"calculado"==s["TIPO_3"]?a("div",{staticClass:"inline calculado"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_calc3"],callback:function(s){e.$set(e.answers[t],"dato_calc3",s)},expression:"answers[i]['dato_calc3']"}}),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"referencia"==s["TIPO_3"]?a("div",{staticClass:"inline referencia"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_ref"],callback:function(s){e.$set(e.answers[t],"dato_ref",s)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e()],1):e._e(),"selección multiple"==s["TIPO_3"]?a("div",e._l(s["RESPUESTAS"],(function(s,n){return a("b-form-checkbox",{key:n,attrs:{id:"checkbox"+t+n,name:"checkbox"+t+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[t],5)&&0==e.answers[t][s["COLUMNA"]]},model:{value:e.answers[t][s["COLUMNA"]],callback:function(a){e.$set(e.answers[t],s["COLUMNA"],a)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(s["TEXTO"])+" ")])})),1):e._e(),"selección unica"==s["TIPO_3"]?a("div",[a("v-select",{attrs:{options:s["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[t]["dato_unico"],callback:function(s){e.$set(e.answers[t],"dato_unico",s)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==s["TIPO_3"]?a("div",[a("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==s["TIPO_3"]?a("div",{staticClass:"inline2"},["NA"!=s["UNIDAD_3"]?a("span",[e._v(e._s(s["UNIDAD_3"]))]):e._e(),e._v(" "),a("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[t]["anio"],callback:function(s){e.$set(e.answers[t],"anio",s)},expression:"answers[i]['anio']"}})],1):e._e(),a("br"),"titulo"!=s["TIPO_3"]?a("br"):e._e()]):e._e(),"NA"!=s["TIPO_4"]?a("div",{staticClass:"col-c"},["grafica"==s["TIPO_4"]?a("div",[a("chartjs-line",{attrs:{bind:!0}})],1):e._e(),"abierto numero"==s["TIPO_4"]?a("div",{staticClass:"inline"},[a("b-input",{on:{keypress:function(s){return e.validNumber(s)}},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"abierto texto"==s["TIPO_4"]?a("div",{staticClass:"inline"},[a("b-input",{model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}}),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"abierto fecha"==s["TIPO_4"]?a("div",{staticClass:"inline"},[a("b-form-datepicker",e._b({attrs:{id:"datepicker-Q4-"+t,locale:"es"},model:{value:e.answers[t]["dato_text"],callback:function(s){e.$set(e.answers[t],"dato_text",s)},expression:"answers[i]['dato_text']"}},"b-form-datepicker",e.labels["es"]||{},!1)),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"calculado"==s["TIPO_4"]?a("div",{staticClass:"inline calculado"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_calc4"],callback:function(s){e.$set(e.answers[t],"dato_calc4",s)},expression:"answers[i]['dato_calc4']"}}),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"referencia"==s["TIPO_4"]?a("div",{staticClass:"inline referencia"},[a("b-input",{attrs:{disabled:!0},model:{value:e.answers[t]["dato_ref"],callback:function(s){e.$set(e.answers[t],"dato_ref",s)},expression:"answers[i]['dato_ref']"}}),e._v(" "),"NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e()],1):e._e(),"selección multiple"==s["TIPO_4"]?a("div",e._l(s["RESPUESTAS"],(function(s,n){return a("b-form-checkbox",{key:n,attrs:{id:"checkbox"+t+n,name:"checkbox"+t+n,value:1,"unchecked-value":0,disabled:e.ifActive(e.answers[t],5)&&0==e.answers[t][s["COLUMNA"]]},model:{value:e.answers[t][s["COLUMNA"]],callback:function(a){e.$set(e.answers[t],s["COLUMNA"],a)},expression:"answers[i][item['COLUMNA']]"}},[e._v(" "+e._s(s["TEXTO"])+" ")])})),1):e._e(),"selección unica"==s["TIPO_4"]?a("div",[a("v-select",{attrs:{options:s["RESPUESTAS"],label:"TEXTO"},model:{value:e.answers[t]["dato_unico"],callback:function(s){e.$set(e.answers[t],"dato_unico",s)},expression:"answers[i]['dato_unico']"}})],1):e._e(),"año"==s["TIPO_4"]?a("div",[a("b",[e._v("Año "+e._s(e.year))])]):e._e(),"año editable"==s["TIPO_4"]?a("div",{staticClass:"inline2"},["NA"!=s["UNIDAD_4"]?a("span",[e._v(e._s(s["UNIDAD_4"]))]):e._e(),e._v(" "),a("v-select",{attrs:{options:e.yearOpt},model:{value:e.answers[t]["anio"],callback:function(s){e.$set(e.answers[t],"anio",s)},expression:"answers[i]['anio']"}})],1):e._e(),a("br"),"titulo"!=s["TIPO_4"]?a("br"):e._e()]):e._e()]):e._e()])])})),0):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.questions.length>0,expression:"questions.length>0"}],staticStyle:{"text-align":"center"}},[a("b-button",{attrs:{variant:"outline-warning"},on:{click:e.validAnswers}},[a("i",{staticClass:"far fa-save"}),e._v(" "+e._s(e.$t("spda.save")))])],1),a("b-modal",{ref:"error",attrs:{id:"error",size:"md","ok-only":!0,title:e.$t("descriptive.valid_data")}},[a("div",{domProps:{innerHTML:e._s(this.errorMessage)}})]),a("b-modal",{ref:"edito",attrs:{id:"edito",size:"md","hide-footer":!0,title:e.$t("descriptive.edito")}},[a("b-form-group",{attrs:{id:"fieldset-1",label:"Nombre y apellido","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.nombre_edita,callback:function(s){e.$set(e.edit_person,"nombre_edita",s)},expression:"edit_person.nombre_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Correo","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.correo_edita,callback:function(s){e.$set(e.edit_person,"correo_edita",s)},expression:"edit_person.correo_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Entidad","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.entidad_edita,callback:function(s){e.$set(e.edit_person,"entidad_edita",s)},expression:"edit_person.entidad_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Numero de teléfono","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",trim:""},model:{value:e.edit_person.numerot_edita,callback:function(s){e.$set(e.edit_person,"numerot_edita",s)},expression:"edit_person.numerot_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Notas","label-for":"input-1"}},[a("b-form-textarea",{attrs:{id:"textarea",rows:"3","max-rows":"6"},model:{value:e.edit_person.notas_edita,callback:function(s){e.$set(e.edit_person,"notas_edita",s)},expression:"edit_person.notas_edita"}})],1),a("b-form-group",{attrs:{id:"fieldset-1",label:"Fuentes","label-for":"input-1"}},[a("b-form-textarea",{attrs:{id:"textarea",rows:"3","max-rows":"6"},model:{value:e.edit_person.fuentes_edita,callback:function(s){e.$set(e.edit_person,"fuentes_edita",s)},expression:"edit_person.fuentes_edita"}})],1),a("b-button",{attrs:{variant:"outline-warning"},on:{click:e.saveAnswers}},[a("i",{staticClass:"far fa-save"}),e._v(" "+e._s(e.$t("spda.save")))])],1)],1)},n=[],i=t("1da1"),r=(t("96cf"),t("a9e3"),t("ac1f"),t("1276"),t("4de4"),t("5319"),t("c740"),t("caad"),{name:"Question",props:{wizard:{type:Number,default:1},section:{type:Number,default:2}},data:function(){return{edit_person:{nombre_edita:"",correo_edita:"",entidad_edita:"",numerot_edita:"",notas_edita:"",fuentes_edita:""},ansd:[],ques:[],errorSave:!1,errorMessage:"",references:[],questions:[],answers:[],variables:[],validationF:[],formulaAlias:[],isLoad:!1,year:null,idDes:null,yearOpt:[2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009],regN:/[-+]?[0-9]*\.?[0-9]*/,labels:{es:{labelPrevDecade:"Década anterior",labelPrevYear:"Año anterior",labelPrevMonth:"Mes anterior",labelCurrentMonth:"Mes actual",labelNextMonth:"Mes siguiente",labelNextYear:"Año siquiente",labelNextDecade:"Década siguiente",labelToday:"Hoy",labelSelected:"Fecha seleccionada",labelNoDateSelected:"Sin fecha elegida",labelCalendar:"Calendario",labelNav:"Navegación de calendario ",labelHelp:"Utilice las teclas de flecha para navegar por el calendario"}},constants_calculated:{table:"REG_TAB",sum:"SUMATORIA",simple:"CALC_SIMPLE",compose:"CALC_COMPUESTO",equal:"IGUAL"}}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var t,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.year=localStorage.getItem("year"),e.idDes=localStorage.getItem("id_territorio"),e.$store.dispatch("year"),e.isLoad=!1,e.updateQuestions(),e.$store.dispatch("setLoading"),s.prev=6,s.next=9,window.eel.getQuestion()(t);case 9:t=s.sent,e.ques=JSON.parse(t),e.$store.dispatch("clearLoading"),s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](6),console.log(s.t0),e.$store.dispatch("clearLoading");case 18:return e.$store.dispatch("setLoading"),s.prev=19,s.next=22,window.eel.getAnswerUserD(e.year,e.idDes)(a);case 22:a=s.sent,e.ansd=JSON.parse(a),null==e.ansd&&(e.ansd=[]),e.$store.dispatch("clearLoading"),s.next=32;break;case 28:s.prev=28,s.t1=s["catch"](19),console.log(s.t1),e.$store.dispatch("clearLoading");case 32:return e.$store.dispatch("setLoading"),s.prev=33,s.next=36,window.eel.getValidationFormula()(n);case 36:n=s.sent,e.validationF=JSON.parse(n),e.$store.dispatch("clearLoading"),s.next=45;break;case 41:s.prev=41,s.t2=s["catch"](33),console.log(s.t2),e.$store.dispatch("clearLoading");case 45:case"end":return s.stop()}}),s,null,[[6,14],[19,28],[33,41]])})))()},methods:{getCalculated:function(e){if(this.questions.length<1)return!1;if(void 0==this.questions[e]["FORMULA"])return!1;if(this.questions[e]["FORMULA"].length<1)return!0;if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.table){var s=this.questions[e]["FORMULA"][0]["CPO"].split("&")[1];if("="==this.questions[e]["FORMULA"][0]["OP"]){var t=this.getAnswerValues(parseInt(s));return 0!=parseInt(t["dato_text"])&&null!=t["dato_text"]&&void 0!=t["dato_text"]&&""!=t["dato_text"]&&(parseInt(t["dato_text"])<31?(this.setRowsTables(e,parseFloat(t["dato_text"])),!0):parseInt(t["dato_text"])>30&&(this.setAnswerValueTable(parseInt(s)),this.setRowsTables(e,30),!0))}}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.sum){for(var a=this.questions[e]["FORMULA"][0]["CPO"].split(";"),n=[],i=0;i<a.length;i++){var r=a[i].split("&")[1],o=this.getAnswerValues(parseInt(r));parseFloat("____________________SUM"),void 0!=o&&(null!=o["dato_text"]&&void 0!=o["dato_text"]&&""!=o["dato_text"]?(console.log(parseFloat(o["dato_text"])),n.push(parseFloat(o["dato_text"]))):null!=o["dato_calc1"]&&void 0!=o["dato_calc1"]&&""!=o["dato_calc1"]?n.push(parseFloat(o["dato_calc1"])):n.push(0))}for(var l=0,c=0;c<n.length;c++)l+=n[c];return console.log(l),this.setCalculatedValue(e,1,l),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.simple){var u=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,u),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.compose){var d=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,d),!0}if(this.questions[e]["FORMULA"][0].tipo==this.constants_calculated.equal){var _=this.simpleCalculated(this.questions[e]["FORMULA"][0]);return this.setCalculatedValue(e,1,_),!0}},simpleCalculated:function(e){var s,t,a="NA",n="NA";-1!=e["CPO"].indexOf("&")&&(a="ID"),-1!=e["CPO"].indexOf("#")&&(a="VAR"),-1!=e["CPO"].indexOf("!")&&(a="ALIAS"),-1!=e["CPO"].indexOf("[")&&(a="CONST"),-1!=e["CPO"].indexOf("?")&&(a="REF"),-1!=e["CPO2"].indexOf("&")&&(n="ID"),-1!=e["CPO2"].indexOf("#")&&(n="VAR"),-1!=e["CPO2"].indexOf("!")&&(n="ALIAS"),-1!=e["CPO2"].indexOf("[")&&(n="CONST"),-1!=e["CPO2"].indexOf("?")&&(n="REF");var i={"+":function(e,s){return e+s},"-":function(e,s){return e-s},"/":function(e,s){return e/s},"*":function(e,s){return e*s},IGUAL:function(e,s){return s=0,e+s}};if("ID"==a){var r=e["CPO"].split("&")[1],o=this.getAnswerValues(parseInt(r)),l=this.getQuestions(parseInt(r));void 0!=l&&("abierto numero"==l["TIPO_1"]?void 0!=o&&(s=null!=o["dato_text"]&&void 0!=o["dato_text"]&&""!=o["dato_text"]?parseFloat(o["dato_text"]):0):"calculado"==l["TIPO_1"]&&void 0!=o&&(s=null!=o["dato_calc1"]&&void 0!=o["dato_calc1"]&&""!=o["dato_calc1"]?parseFloat(o["dato_calc1"]):0))}else if("VAR"==a){var c=this.variables.filter((function(s){return s["NOMBRE"]==e["CPO"]}))[0];s=c["VALOR"]}else if("ALIAS"==a){var u=this.getAliasFormula(e["CPO"]);void 0!=u&&(s=this.simpleCalculated(u))}else if("CONST"==a){var d=e["CPO"].split("[")[1],_=d.split("]")[0];s=parseFloat(_.replace(",","."))}else if("REF"==a){var p=e["CPO"].split("?")[1],h=this.getRefValue(p);void 0!=h&&(s=parseFloat(h["DATA"]))}if("ID"==n){var v=e["CPO2"].split("&")[1],w=this.getAnswerValues(parseInt(v)),f=this.getQuestions(parseInt(v));void 0!=f&&("abierto numero"==f["TIPO_1"]?void 0!=w&&(t=null!=w["dato_text"]&&void 0!=w["dato_text"]&&""!=w["dato_text"]?parseFloat(w["dato_text"]):0):"calculado"==f["TIPO_1"]&&void 0!=w&&(t=null!=w["dato_calc1"]&&void 0!=w["dato_calc1"]&&""!=w["dato_calc1"]?parseFloat(w["dato_calc1"]):0))}else if("VAR"==n){var A=this.variables.filter((function(s){return s["NOMBRE"]==e["CPO2"]}))[0];t=A["VALOR"]}else if("ALIAS"==n){var T=this.getAliasFormula(e["CPO2"]);void 0!=T&&(t=this.simpleCalculated(T))}else if("CONST"==n){var b=e["CPO2"].split("[")[1],O=b.split("]")[0];t=parseFloat(O.replace(",","."))}else if("REF"==n){var N=e["CPO2"].split("?")[1],S=this.getRefValue(N);void 0!=S&&(t=parseFloat(S["DATA"]))}return e.tipo==this.constants_calculated.simple&&(console.log("______________________________________________________________________"),console.log("CPD: "+e["CPD"]),console.log(s+e["OP"]+t+"="+i[e["OP"]](s,t)),console.log("CPO: "+e["CPO"]+" - "+a),console.log("CPO2: "+e["CPO2"]+" - "+n),console.log("ALIAS: "+e["alias"])),i[e["OP"]](s,t)},getRefValue:function(e){return this.references.filter((function(s){return s["ID_REFERENCIA"]==e}))[0]},getAliasFormula:function(e){return this.formulaAlias.filter((function(s){return s.alias==e}))[0]},setCalculatedValue:function(e,s,t){this.answers[e]["dato_calc"+s]=t},getCalculatedValue:function(e,s){return this.answers[e]["dato_calc"+s]},getQuestionsSec:function(e){var s=this.questions.filter((function(s){return s["ID_PREGUNTA"]==parseInt(e)}))[0];return s},getAnswerValuesSec:function(e){var s=this.answers.filter((function(s){return s.id_pregunta==parseInt(e)}))[0];return s},getQuestions:function(e){var s=this.questions.filter((function(s){return s["ID_PREGUNTA"]==parseInt(e)}))[0];return void 0==s?(s=this.ques.filter((function(s){return s["ID_PREGUNTA"]==parseInt(e)}))[0],s):s},getAnswerValues:function(e){var s=this.answers.filter((function(s){return s.id_pregunta==parseInt(e)}))[0];return void 0==s?(s=this.ansd.filter((function(s){return s.id_pregunta==parseInt(e)}))[0],s):s},setAnswerValueTable:function(e){var s=this.answers.findIndex((function(s){return s.id_pregunta==parseInt(e)}));this.answers[s]["dato_text"]="10"},setRowsTables:function(e,s){var t=this.questions[e]["TANSWERS"].length,a=s-t;if(a<0)for(var n=0;n<-1*a;n++)this.removeTableAnswer(e);if(a>0)for(var i=0;i<a;i++)this.addTableAnswer(e)},addTableAnswer:function(e){this.questions[e]["TANSWERS"].push({1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""}),this.$forceUpdate()},removeTableAnswer:function(e){this.questions[e]["TANSWERS"].pop(),this.$forceUpdate()},getRes:function(e,s){return this.questions[s]["RESPUESTAS"].filter((function(s){return parseInt(s["COLUMNA"])==parseInt(e)}))},ifActive:function(e,s){var t=0;return 1==e["A"]&&t++,1==e["B"]&&t++,1==e["C"]&&t++,1==e["D"]&&t++,1==e["E"]&&t++,1==e["F"]&&t++,1==e["G"]&&t++,1==e["H"]&&t++,1==e["I"]&&t++,1==e["J"]&&t++,s<=t},updateQuestions:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var t,a,n,r,o,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isLoad=!1,e.answers=[],e.$store.dispatch("setLoading"),s.prev=3,s.next=6,window.eel.getSPDAQuestions(e.wizard,e.section)(t);case 6:for(t=s.sent,e.questions=JSON.parse(t),a=function(s){setTimeout(Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getSPDAAnswers(e.questions[s]["ID_PREGUNTA"])(a);case 3:a=t.sent,void 0!=a&&a.length>0?(e.questions[s]["RESPUESTAS"]=JSON.parse(a),e.isLoad=!0):(e.questions[s]["RESPUESTAS"]=[],e.isLoad=!1),t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s),e.questions[s]["RESPUESTAS"]=[];case 12:return e.answers.push({id_pregunta:e.questions[s]["ID_PREGUNTA"],A:0,B:0,C:0,D:0,E:0,F:0,G:0,H:0,I:0,J:0,dato_ref:"",dato_calc1:"",dato_calc2:"",dato_calc3:"",dato_calc4:"",anio:"",dato_text:"",dato_unico:"",nombre_edita:"",correo_edita:"",entidad_edita:"",numerot_edita:"",notas_edita:"",fuentes_edita:"",puntaje:0,anio_actual:e.year,id_territorio:e.idDes}),"año editable"!=e.questions[s]["TIPO_4"]&&"año editable"!=e.questions[s]["TIPO_3"]||(e.answers[s].anio=2019),n=0,n=""!=e.answers[s].anio?e.answers[s].anio:e.answers[s].anio_actual,t.prev=16,t.next=19,window.eel.getReferencesQuestion(e.questions[s]["ID_PREGUNTA"],n,e.idDes)(i);case 19:i=t.sent,void 0!=i?(r=JSON.parse(i),r.length>0?(e.questions[s]["REFERENCE"]=r[0],e.answers[s].dato_ref=e.questions[s]["REFERENCE"]["DATA"]):e.questions[s]["REFERENCE"]=[]):e.questions[s]["REFERENCE"]=[],t.next=28;break;case 23:t.prev=23,t.t1=t["catch"](16),console.log(t.t1),console.log("in index "+s),e.questions[s]["REFERENCE"];case 28:case"end":return t.stop()}}),t,null,[[0,7],[16,23]])}))),500),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getTables(e.questions[s]["ID_PREGUNTA"])(a);case 3:a=t.sent,void 0!=a&&a.length>0?(e.questions[s]["TABLES"]=JSON.parse(a),e.questions[s]["TANSWERS"]=[]):(e.questions[s]["TABLES"]=[],e.questions[s]["TANSWERS"]=[]),t.next=13;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s),e.questions[s]["TABLES"]=[],e.questions[s]["TANSWERS"]=[];case 13:case"end":return t.stop()}}),t,null,[[0,7]])}))),500),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getFormula(e.questions[s]["ID_PREGUNTA"])(a);case 3:a=t.sent,void 0!=a&&a.length>0?e.questions[s]["FORMULA"]=JSON.parse(a):e.questions[s]["FORMULA"]=[],t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s),e.questions[s]["FORMULA"]=[];case 12:case"end":return t.stop()}}),t,null,[[0,7]])}))),500),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getPoints(e.questions[s]["ID_PREGUNTA"])(a);case 3:a=t.sent,void 0!=a&&a.length>0?e.questions[s]["PUNTOS"]=JSON.parse(a):e.questions[s]["PUNTOS"]=[],t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s),e.questions[s]["PUNTOS"]=[];case 12:case"end":return t.stop()}}),t,null,[[0,7]])}))),500),setTimeout(Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,o,l,c,u,d,_,p,h,v,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.eel.getUserAnswers(e.questions[s]["ID_PREGUNTA"],e.year,e.idDes)(a);case 3:if(a=t.sent,void 0!=a&&a.length>0){if(n=JSON.parse(a),e.answers[s].id_pregunta=n[0].id_pregunta,e.answers[s].A=n[0].A,e.answers[s].B=n[0].B,e.answers[s].C=n[0].C,e.answers[s].D=n[0].D,e.answers[s].E=n[0].E,e.answers[s].F=n[0].F,e.answers[s].G=n[0].G,e.answers[s].H=n[0].H,e.answers[s].I=n[0].I,e.answers[s].J=n[0].J,e.answers[s].dato_ref=n[0].dato_ref,e.answers[s].dato_calc1=n[0].dato_calc1,e.answers[s].dato_calc2=n[0].dato_calc2,e.answers[s].dato_calc3=n[0].dato_calc3,e.answers[s].dato_calc4=n[0].dato_calc4,e.answers[s].anio=n[0].anio,e.answers[s].dato_text=n[0].dato_text,e.answers[s].dato_unico="",e.answers[s].nombre_edita=n[0].nombre_edita,e.answers[s].correo_edita=n[0].correo_edita,e.answers[s].entidad_edita=n[0].entidad_edita,e.answers[s].numerot_edita=n[0].numerot_edita,e.answers[s].notas_edita=n[0].notas_edita,e.answers[s].fuentes_edita=n[0].fuentes_edita,e.answers[s].puntaje=""==n[0].puntaje?0:n[0].puntaje,e.answers[s].anio_actual=n[0].anio_actual,e.answers[s].id_territorio=n[0].id_territorio,"selección unica"==e.questions[s]["TIPO_1"]||"selección unica"==e.questions[s]["TIPO_2"]||"selección unica"==e.questions[s]["TIPO_3"]||"selección unica"==e.questions[s]["TIPO_4"])try{1==e.answers[s]["A"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][0]),1==e.answers[s]["B"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][1]),1==e.answers[s]["C"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][2]),1==e.answers[s]["D"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][3]),1==e.answers[s]["E"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][4]),1==e.answers[s]["F"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][5]),1==e.answers[s]["G"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][6]),1==e.answers[s]["H"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][7]),1==e.answers[s]["I"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][8]),1==e.answers[s]["J"]&&(e.answers[s]["dato_unico"]=e.questions[s]["RESPUESTAS"][9])}catch(f){console.log("fail load - "+f)}if("tabla"==e.questions[s]["TIPO_1"]||"tabla"==e.questions[s]["TIPO_2"]||"tabla"==e.questions[s]["TIPO_3"]||"tabla"==e.questions[s]["TIPO_4"])for(e.questions[s]["TANSWERS"]=[],i=[],r=[],o=[],l=[],c=[],u=[],d=[],_=[],p=[],h=[],i=e.answers[s]["A"].split(";"),r=e.answers[s]["B"].split(";"),o=e.answers[s]["C"].split(";"),l=e.answers[s]["D"].split(";"),c=e.answers[s]["E"].split(";"),u=e.answers[s]["F"].split(";"),d=e.answers[s]["G"].split(";"),_=e.answers[s]["H"].split(";"),p=e.answers[s]["I"].split(";"),h=e.answers[s]["J"].split(";"),v=function(t){e.questions[s]["TANSWERS"].push({1:void 0==e.questions[s]["TABLES"][0]?"":"selección unica"==e.questions[s]["TABLES"][0]["TIPO"]?void 0!=i[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"1"==e["COLUMNA"]&&e["TEXTO"]==i[t]}))[0]:"":void 0!=i[t]&&i[t].length>0?i[t]:"",2:void 0==e.questions[s]["TABLES"][1]?"":"selección unica"==e.questions[s]["TABLES"][1]["TIPO"]?void 0!=r[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"2"==e["COLUMNA"]&&e["TEXTO"]==r[t]}))[0]:"":void 0!=r[t]&&r[t].length>0?r[t]:"",3:void 0==e.questions[s]["TABLES"][2]?"":"selección unica"==e.questions[s]["TABLES"][2]["TIPO"]?void 0!=o[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"3"==e["COLUMNA"]&&e["TEXTO"]==o[t]}))[0]:"":void 0!=o[t]&&o[t].length>0?o[t]:"",4:void 0==e.questions[s]["TABLES"][3]?"":"selección unica"==e.questions[s]["TABLES"][3]["TIPO"]?void 0!=l[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"4"==e["COLUMNA"]&&e["TEXTO"]==l[t]}))[0]:"":void 0!=l[t]&&l[t].length>0?l[t]:"",5:void 0==e.questions[s]["TABLES"][4]?"":"selección unica"==e.questions[s]["TABLES"][4]["TIPO"]?void 0!=c[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"5"==e["COLUMNA"]&&e["TEXTO"]==c[t]}))[0]:"":void 0!=c[t]&&c[t].length>0?c[t]:"",6:void 0==e.questions[s]["TABLES"][5]?"":"selección unica"==e.questions[s]["TABLES"][5]["TIPO"]?void 0!=u[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"6"==e["COLUMNA"]&&e["TEXTO"]==u[t]}))[0]:"":void 0!=u[t]&&u[t].length>0?u[t]:"",7:void 0==e.questions[s]["TABLES"][6]?"":"selección unica"==e.questions[s]["TABLES"][6]["TIPO"]?void 0!=d[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"7"==e["COLUMNA"]&&e["TEXTO"]==d[t]}))[0]:"":void 0!=d[t]&&d[t].length>0?d[t]:"",8:void 0==e.questions[s]["TABLES"][7]?"":"selección unica"==e.questions[s]["TABLES"][7]["TIPO"]?void 0!=_[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"8"==e["COLUMNA"]&&e["TEXTO"]==_[t]}))[0]:"":void 0!=_[t]&&_[t].length>0?_[t]:"",9:void 0==e.questions[s]["TABLES"][8]?"":"selección unica"==e.questions[s]["TABLES"][8]["TIPO"]?void 0!=p[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"9"==e["COLUMNA"]&&e["TEXTO"]==p[t]}))[0]:"":void 0!=p[t]&&p[t].length>0?p[t]:"",10:void 0==e.questions[s]["TABLES"][9]?"":"selección unica"==e.questions[s]["TABLES"][9]["TIPO"]?void 0!=h[t]?e.questions[s]["RESPUESTAS"].filter((function(e){return"10"==e["COLUMNA"]&&e["TEXTO"]==h[t]}))[0]:"":void 0!=h[t]&&h[t].length>0?h[t]:""})},w=0;w<i.length-1;w++)v(w)}t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),console.log("in index "+s);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),500)},n=0;n<e.questions.length;n++)a(n);e.isLoad=!0,e.$store.dispatch("clearLoading"),s.next=19;break;case 14:s.prev=14,s.t0=s["catch"](3),console.log(s.t0),e.isLoad=!0,e.$store.dispatch("clearLoading");case 19:return e.$store.dispatch("setLoading"),s.prev=20,s.next=23,window.eel.getVariables()(r);case 23:r=s.sent,e.variables=JSON.parse(r),e.$store.dispatch("clearLoading"),s.next=33;break;case 28:s.prev=28,s.t1=s["catch"](20),console.log(s.t1),e.isLoad=!0,e.$store.dispatch("clearLoading");case 33:return e.$store.dispatch("setLoading"),s.prev=34,s.next=37,window.eel.getFormulaByAlias()(o);case 37:o=s.sent,e.formulaAlias=JSON.parse(o),e.$store.dispatch("clearLoading"),s.next=46;break;case 42:s.prev=42,s.t2=s["catch"](34),console.log(s.t2),e.$store.dispatch("clearLoading");case 46:return e.$store.dispatch("setLoading"),s.prev=47,s.next=50,window.eel.getReferences(e.year,e.idDes)(l);case 50:l=s.sent,e.references=JSON.parse(l),e.$store.dispatch("clearLoading"),s.next=59;break;case 55:s.prev=55,s.t3=s["catch"](47),console.log(s.t3),e.$store.dispatch("clearLoading");case 59:case"end":return s.stop()}}),s,null,[[3,14],[20,28],[34,42],[47,55]])})))()},validAnswers:function(){this.error=!1,this.errorMessage="Verifica las preguntas: <br>";for(var e=0;e<this.questions.length;e++){if("abierto fecha"!=this.questions[e]["TIPO_1"]&&"abierto texto"!=this.questions[e]["TIPO_1"]&&"abierto numero"!=this.questions[e]["TIPO_1"]&&"abierto fecha"!=this.questions[e]["TIPO_2"]&&"abierto texto"!=this.questions[e]["TIPO_2"]&&"abierto numero"!=this.questions[e]["TIPO_2"]&&"abierto fecha"!=this.questions[e]["TIPO_3"]&&"abierto texto"!=this.questions[e]["TIPO_3"]&&"abierto numero"!=this.questions[e]["TIPO_3"]&&"abierto fecha"!=this.questions[e]["TIPO_4"]&&"abierto texto"!=this.questions[e]["TIPO_4"]&&"abierto numero"!=this.questions[e]["TIPO_4"]||""!=this.answers[e]["dato_text"]&&null!=this.answers[e]["dato_text"]||(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"),"selección multiple"==this.questions[e]["TIPO_1"]||"selección multiple"==this.questions[e]["TIPO_2"]||"selección multiple"==this.questions[e]["TIPO_3"]||"selección multiple"==this.questions[e]["TIPO_4"]){var s=0;1==this.answers[e]["A"]&&s++,1==this.answers[e]["B"]&&s++,1==this.answers[e]["C"]&&s++,1==this.answers[e]["D"]&&s++,1==this.answers[e]["E"]&&s++,1==this.answers[e]["F"]&&s++,1==this.answers[e]["G"]&&s++,1==this.answers[e]["H"]&&s++,1==this.answers[e]["I"]&&s++,1==this.answers[e]["J"]&&s++,0==s&&(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>")}if("selección unica"!=this.questions[e]["TIPO_1"]&&"selección unica"!=this.questions[e]["TIPO_2"]&&"selección unica"!=this.questions[e]["TIPO_3"]&&"selección unica"!=this.questions[e]["TIPO_4"]||(void 0==this.answers[e]["dato_unico"]["TEXTO"]?(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"):(this.answers[e]["A"]=0,this.answers[e]["B"]=0,this.answers[e]["C"]=0,this.answers[e]["D"]=0,this.answers[e]["E"]=0,this.answers[e]["F"]=0,this.answers[e]["G"]=0,this.answers[e]["H"]=0,this.answers[e]["I"]=0,this.answers[e]["J"]=0,this.answers[e][this.answers[e]["dato_unico"]["COLUMNA"]]=1)),"año editable"!=this.questions[e]["TIPO_1"]&&"año editable"!=this.questions[e]["TIPO_2"]&&"año editable"!=this.questions[e]["TIPO_3"]&&"año editable"!=this.questions[e]["TIPO_4"]||""!=this.answers[e]["anio"]&&null!=this.answers[e]["anio"]||(this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>"),"tabla"==this.questions[e]["TIPO_1"]||"tabla"==this.questions[e]["TIPO_2"]||"tabla"==this.questions[e]["TIPO_3"]||"tabla"==this.questions[e]["TIPO_4"]){this.answers[e]["A"]="",this.answers[e]["B"]="",this.answers[e]["C"]="",this.answers[e]["D"]="",this.answers[e]["E"]="",this.answers[e]["F"]="",this.answers[e]["G"]="",this.answers[e]["H"]="",this.answers[e]["I"]="",this.answers[e]["J"]="";for(var t=0;t<this.questions[e]["TANSWERS"].length;t++)for(var a=0;a<this.questions[e]["TABLES"].length;a++){if("abierto numero"==this.questions[e]["TABLES"][a]["TIPO"]||"abierto texto"==this.questions[e]["TABLES"][a]["TIPO"]||"abierto fecha"==this.questions[e]["TABLES"][a]["TIPO"])if(""==this.questions[e]["TANSWERS"][t][a+1]||null==this.questions[e]["TANSWERS"][t][a+1])this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>";else{var n=String.fromCharCode(64+a+1);this.answers[e][n]+=this.questions[e]["TANSWERS"][t][a+1]+";"}if("selección unica"==this.questions[e]["TABLES"][a]["TIPO"])if(void 0==this.questions[e]["TANSWERS"][t][a+1])this.error=!0,this.errorMessage+="<b>"+this.questions[e]["COD_PREGUNTA"]+"</b> "+this.questions[e]["PREGUNTA"]+"<br>";else{var i=String.fromCharCode(64+a+1);this.answers[e][i]+=this.questions[e]["TANSWERS"][t][a+1]["TEXTO"]+";"}}}for(var r={"=":function(e,s){return e==s},">":function(e,s){return e>s},"<":function(e,s){return e<s},">=":function(e,s){return e>=s},"<=":function(e,s){return e<=s}},o=0;o<this.questions[e]["PUNTOS"].length;o++){var l=this.questions[e]["PUNTOS"][o]["OPERADOR_1"],c=this.questions[e]["PUNTOS"][o]["OPERADOR_2"],u=this.questions[e]["PUNTOS"][o]["VALOR_1"],d=this.questions[e]["PUNTOS"][o]["VALOR_2"],_=this.questions[e]["PUNTOS"][o]["TIPO"],p=this.questions[e]["PUNTOS"][o]["PUNTOS"];if("MULTIPLE"==_){var h=u.toUpperCase(),v=d.toUpperCase();"NA"!=h&&(h=h.split(";")),"NA"!=v&&(v=v.split(";"));var w=[];if(console.log(l),console.log(this.questions[e]["PUNTOS"][o]["ID_PREGUNTA"]),console.log(h),console.log("____________________________________________"),"="==l){for(var f=0;f<h.length;f++)1==this.answers[e][h[f]]?this.answers[e].puntaje=p:this.answers[e].puntaje=0;0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("OR"==l){for(var A=0;A<h.length;A++)1==this.answers[e][h[A]]?w.push(!0):w.push(!1);w.includes(!0)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("AND"==l){var T=0;1==this.answers[e]["A"]&&T++,1==this.answers[e]["B"]&&T++,1==this.answers[e]["C"]&&T++,1==this.answers[e]["D"]&&T++,1==this.answers[e]["E"]&&T++,1==this.answers[e]["F"]&&T++,1==this.answers[e]["G"]&&T++,1==this.answers[e]["H"]&&T++,1==this.answers[e]["I"]&&T++,1==this.answers[e]["J"]&&T++;for(var b=0;b<h.length;b++)1==this.answers[e][h[b]]?w.push(!0):w.push(!1);w.every((function(e){return 1==e}))&&T==h.length?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}else if("UNICA"==_){var O=u.toUpperCase();"="==l&&(1==this.answers[e][O]?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length))}else if("FECHA"==_){var N="NA"!=u?parseFloat(u.replace(",",".")):"NA",S=new Date(this.answers[e]["dato_text"]),P=this.year-S.getFullYear();r[l](P,N)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}else if("PORCENTAJE"==_){var I="NA"!=u?parseFloat(u.replace(",",".")):"NA",E="NA"!=d?parseFloat(d.replace(",",".")):"NA";if("NA"==c)r[l](this.answers[e]["dato_text"],I)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length);else{var g=null,m=null;g=r[l](this.answers[e]["dato_text"],I),m=r[c](this.answers[e]["dato_text"],E),this.answers[e].puntaje=g&&m?p:0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}else if("VALOR"==_){var x="NA"!=u?parseFloat(u.replace(",",".")):"NA",U="NA"!=d?parseFloat(d.replace(",",".")):"NA";if("NA"==c)r[l](this.answers[e]["dato_text"],x)?this.answers[e].puntaje=p:this.answers[e].puntaje=0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length);else{var q=null,R=null;q=r[l](this.answers[e]["dato_text"],x),R=r[c](this.answers[e]["dato_text"],U),this.answers[e].puntaje=q&&R?p:0,0!=this.answers[e].puntaje&&(o=this.questions[e]["PUNTOS"].length)}}}}for(var C=0;C<this.validationF.length;C++){var D=void 0,L=void 0,k=this.validationF[C]["CPO"].split("&")[1],$=this.getAnswerValuesSec(parseInt(k)),F=this.getQuestionsSec(parseInt(k)),M=this.validationF[C]["CPO2"].split("&")[1],y=this.getAnswerValuesSec(parseInt(M)),B=this.getQuestionsSec(parseInt(M));void 0!=F&&("abierto numero"==F["TIPO_1"]?void 0!=$&&(D=null!=$["dato_text"]||void 0!=$["dato_text"]||""!=$["dato_text"]?parseFloat($["dato_text"]):null):"calculado"==F["TIPO_1"]&&void 0!=$&&(D=null!=$["dato_calc1"]||void 0!=$["dato_calc1"]||""!=$["dato_calc1"]?parseFloat($["dato_calc1"]):null)),void 0!=B&&("abierto numero"==B["TIPO_1"]?void 0!=y&&(L=null!=y["dato_text"]||void 0!=y["dato_text"]||""!=y["dato_text"]?parseFloat(y["dato_text"]):null):"calculado"==B["TIPO_1"]&&void 0!=y&&(L=null!=y["dato_calc1"]||void 0!=y["dato_calc1"]||""!=y["dato_calc1"]?parseFloat(y["dato_calc1"]):null)),null!=D&&null!=L&&D!=L&&(this.error=!0,this.errorMessage+="<b>"+F["COD_PREGUNTA"]+"</b> "+F["PREGUNTA"]+", no es igual a: <b>"+B["COD_PREGUNTA"]+"</b> "+B["PREGUNTA"]+"<br>")}this.error?this.$refs["error"].show():this.$refs["edito"].show()},saveAnswers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var t,a,n,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:for(t=0;t<e.answers.length;t++)e.answers[t].nombre_edita=e.edit_person.nombre_edita,e.answers[t].correo_edita=e.edit_person.correo_edita,e.answers[t].entidad_edita=e.edit_person.entidad_edita,e.answers[t].numerot_edita=e.edit_person.numerot_edita,e.answers[t].notas_edita=e.edit_person.notas_edita,e.answers[t].fuentes_edita=e.edit_person.fuentes_edita;for(a=JSON.stringify(e.answers),n=JSON.parse(a),i=0;i<n.length;i++)delete n[i].dato_unico;return e.$store.dispatch("setLoading"),s.prev=5,s.next=8,window.eel.saveAnswers(JSON.stringify(n))(r);case 8:r=s.sent,e.makeToast("success",e.$t("descriptive.data_save")),e.$store.dispatch("clearLoading"),e.$refs["edito"].hide(),s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](5),e.$store.dispatch("clearLoading"),console.log("Error");case 18:case"end":return s.stop()}}),s,null,[[5,14]])})))()},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(s,{title:s,variant:e,solid:!0,autoHideDelay:2e3,toaster:"b-toaster-bottom-right"})},validNumber:function(e){if(0===e.charCode||this.regN.test(String.fromCharCode(e.charCode)))return!0;e.preventDefault()}}}),o=r,l=(t("d843"),t("ff23"),t("2877")),c=Object(l["a"])(o,a,n,!1,null,"84d1dfca",null);s["a"]=c.exports},5562:function(e,s,t){},"5edc":function(e,s,t){},"754c":function(e,s,t){e.exports=t.p+"img/loader.330ade0f.png"},c740:function(e,s,t){"use strict";var a=t("23e7"),n=t("b727").findIndex,i=t("44d2"),r="findIndex",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(r)},caad:function(e,s,t){"use strict";var a=t("23e7"),n=t("4d64").includes,i=t("44d2");a({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d843:function(e,s,t){"use strict";t("5562")},ff23:function(e,s,t){"use strict";t("5edc")}}]);
//# sourceMappingURL=chunk-de5465a2.4d3b74dc.js.map